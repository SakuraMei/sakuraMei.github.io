<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">






















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">

<link rel="stylesheet" href="/css/main.css?v=7.1.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.2">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.2" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="第一章项目介绍和前期准备第1集 SpringBoot微信支付开发在线教育视频介绍简介: 课程介绍，和小D课堂在线教育项目搭建开发 12341、课程大纲介绍2、微信支付项目效果演示3、课程所需基础springboot2基础+javaweb+mysql+maven4、开发环境 jdk8+eclipse和Idea    第2集 中大型公司里面项目开发流程讲解简介：讲解一个项目如何从零到上线，经历过怎样的">
<meta name="keywords" content="springboot">
<meta property="og:type" content="article">
<meta property="og:title" content="springboot微信支付项目实战">
<meta property="og:url" content="http://yoursite.com/2019/07/05/springboot微信支付项目实战/index.html">
<meta property="og:site_name" content="Sakura走过的路">
<meta property="og:description" content="第一章项目介绍和前期准备第1集 SpringBoot微信支付开发在线教育视频介绍简介: 课程介绍，和小D课堂在线教育项目搭建开发 12341、课程大纲介绍2、微信支付项目效果演示3、课程所需基础springboot2基础+javaweb+mysql+maven4、开发环境 jdk8+eclipse和Idea    第2集 中大型公司里面项目开发流程讲解简介：讲解一个项目如何从零到上线，经历过怎样的">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-07-13T03:54:19.401Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="springboot微信支付项目实战">
<meta name="twitter:description" content="第一章项目介绍和前期准备第1集 SpringBoot微信支付开发在线教育视频介绍简介: 课程介绍，和小D课堂在线教育项目搭建开发 12341、课程大纲介绍2、微信支付项目效果演示3、课程所需基础springboot2基础+javaweb+mysql+maven4、开发环境 jdk8+eclipse和Idea    第2集 中大型公司里面项目开发流程讲解简介：讲解一个项目如何从零到上线，经历过怎样的">





  
  
  <link rel="canonical" href="http://yoursite.com/2019/07/05/springboot微信支付项目实战/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>springboot微信支付项目实战 | Sakura走过的路</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Sakura走过的路</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">想走到高处，便需每日勤勉</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/05/springboot微信支付项目实战/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sakura">
      <meta itemprop="description" content="普通技术死肥宅">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sakura走过的路">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">springboot微信支付项目实战

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-07-05 11:05:39" itemprop="dateCreated datePublished" datetime="2019-07-05T11:05:39+08:00">2019-07-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-07-13 11:54:19" itemprop="dateModified" datetime="2019-07-13T11:54:19+08:00">2019-07-13</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/项目实战/" itemprop="url" rel="index"><span itemprop="name">项目实战</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="第一章项目介绍和前期准备"><a href="#第一章项目介绍和前期准备" class="headerlink" title="第一章项目介绍和前期准备"></a>第一章项目介绍和前期准备</h3><h4 id="第1集-SpringBoot微信支付开发在线教育视频介绍"><a href="#第1集-SpringBoot微信支付开发在线教育视频介绍" class="headerlink" title="第1集 SpringBoot微信支付开发在线教育视频介绍"></a>第1集 SpringBoot微信支付开发在线教育视频介绍</h4><p><strong>简介: 课程介绍，和小D课堂在线教育项目搭建开发</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1、课程大纲介绍</span><br><span class="line">2、微信支付项目效果演示</span><br><span class="line">3、课程所需基础springboot2基础+javaweb+mysql+maven</span><br><span class="line">4、开发环境 jdk8+eclipse和Idea</span><br></pre></td></tr></table></figure>



<h4 id="第2集-中大型公司里面项目开发流程讲解"><a href="#第2集-中大型公司里面项目开发流程讲解" class="headerlink" title="第2集 中大型公司里面项目开发流程讲解"></a>第2集 中大型公司里面项目开发流程讲解</h4><p><strong>简介：讲解一个项目如何从零到上线，经历过怎样的步骤和流程</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">1、一个中大型项目的开发流程，从需求调研到项目上线</span><br><span class="line"></span><br><span class="line">2、需求评审（产品/设计/前端/后端/测试/运营）-&gt;UI设计</span><br><span class="line"></span><br><span class="line">-&gt;开发(前端架构-&gt;开发/ 后端架构-&gt;开发)</span><br><span class="line"></span><br><span class="line">-&gt; 前端后端联调</span><br><span class="line"></span><br><span class="line">-&gt;项目提测</span><br><span class="line"></span><br><span class="line">-&gt;BugFix</span><br><span class="line"></span><br><span class="line">-&gt;回归测试</span><br><span class="line"></span><br><span class="line">-&gt;运维和开发部署上线</span><br><span class="line"></span><br><span class="line">-&gt;灰度发布</span><br><span class="line"></span><br><span class="line">-&gt;全量发布</span><br><span class="line"></span><br><span class="line">-&gt;维护和运营</span><br></pre></td></tr></table></figure>

 <a id="more"></a>

<h4 id="第3集-在线教育站点需求分析和架构设计"><a href="#第3集-在线教育站点需求分析和架构设计" class="headerlink" title="第3集 在线教育站点需求分析和架构设计"></a>第3集 在线教育站点需求分析和架构设计</h4><p><strong>简介：分析要开发的功能点和系统架构应该怎样架构</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1、开发的功能:</span><br><span class="line">    首页视频列表</span><br><span class="line">    视频详情  （自己开发）</span><br><span class="line">    微信扫码登录</span><br><span class="line">    下单微信支付</span><br><span class="line">    我的订单列表 （自己开发）</span><br><span class="line">        </span><br><span class="line">2、架构设计</span><br><span class="line">    前端后端分离 -&gt; 方案：node渲染                         </span><br><span class="line">    动静分离       -&gt; 方案：静态资源如html，js放在cdn或者nginx服务器上</span><br><span class="line"></span><br><span class="line">技术选择：</span><br><span class="line">    后端技术选择：Eclipse + Springboot2.0 + redis4.0+ HttpClient + mysql + ActiveMQ消息队列</span><br><span class="line"></span><br><span class="line">    前端技术选择：HTML5 + bootstrapt + jquery</span><br><span class="line"></span><br><span class="line">    测试要求：</span><br><span class="line">        首页和视频详情页qps单机qps要求 2000+</span><br></pre></td></tr></table></figure>



<h4 id="第4集-在线教育后台数据库设计"><a href="#第4集-在线教育后台数据库设计" class="headerlink" title="第4集 在线教育后台数据库设计"></a>第4集 在线教育后台数据库设计</h4><p><strong>简介：讲解后端数据库设计    ，字段冗余的好处，及常见注意事项</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">1、数据库设计：</span><br><span class="line">         er图：</span><br><span class="line">         实体对象：矩形</span><br><span class="line">         属性：椭圆</span><br><span class="line">         关系：菱形</span><br><span class="line">              video表</span><br><span class="line">              video_order表</span><br><span class="line">              user表</span><br><span class="line">              comment表</span><br><span class="line">              chapter张</span><br><span class="line">              episode节</span><br><span class="line"></span><br><span class="line">2、字段冗余：</span><br><span class="line">        什么是字段冗余</span><br><span class="line">        什么时候选择字段冗余</span><br><span class="line">        优缺点</span><br><span class="line"></span><br><span class="line">3、Mysql测试数据导入</span><br><span class="line"></span><br><span class="line">4、mysql客户端软件</span><br><span class="line">        苹果系统：sequel pro</span><br><span class="line">        windows：navicat </span><br><span class="line">5、没有一成不变的架构，没有通用的设计方案</span><br><span class="line">        一定跟业务结合</span><br></pre></td></tr></table></figure>



<h3 id="第二章-项目基础环境搭建和逆向工程构建"><a href="#第二章-项目基础环境搭建和逆向工程构建" class="headerlink" title="第二章 项目基础环境搭建和逆向工程构建"></a>第二章 项目基础环境搭建和逆向工程构建</h3><h4 id="第1集-快速搭建SpringBoot项目，采用Eclipse"><a href="#第1集-快速搭建SpringBoot项目，采用Eclipse" class="headerlink" title="第1集 快速搭建SpringBoot项目，采用Eclipse"></a>第1集 快速搭建SpringBoot项目，采用Eclipse</h4><p><strong>简介：使用SpringBoot start在线生成项目基本框架并导入到eclipse中</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1、站点地址：http://start.spring.io/</span><br><span class="line">2、需要依赖</span><br><span class="line">    spring-boot-starter-web</span><br><span class="line">    spring-boot-starter-data-redis</span><br><span class="line">    mybatis-spring-boot-starter</span><br><span class="line">    mysql-connector-java</span><br><span class="line"></span><br><span class="line">用什么包导什么包</span><br><span class="line"></span><br><span class="line">注意事项：</span><br><span class="line">如果一开始没加mysql的信息，则在pom.xml里面注解掉mysql相关依赖</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">3、启动项目hello world</span><br><span class="line"></span><br><span class="line">4、访问入口：localhost:8080/test</span><br></pre></td></tr></table></figure>



<h4 id="第2集-快速搭建SpringBoot项目，采用IDEA"><a href="#第2集-快速搭建SpringBoot项目，采用IDEA" class="headerlink" title="第2集 快速搭建SpringBoot项目，采用IDEA"></a>第2集 快速搭建SpringBoot项目，采用IDEA</h4><p><strong>简介：使用SpringBoot start在线生成项目基本框架并导入到IDEA中</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">参考资料：</span><br><span class="line">IDEA使用文档</span><br><span class="line">http://wiki.jikexueyuan.com/project/intellij-idea-tutorial/</span><br></pre></td></tr></table></figure>



<h4 id="第3集-热部署在Eclipse和IDE里面的使用"><a href="#第3集-热部署在Eclipse和IDE里面的使用" class="headerlink" title="第3集 热部署在Eclipse和IDE里面的使用"></a>第3集 热部署在Eclipse和IDE里面的使用</h4><p><strong>简介：讲解热部署的好处及使用注意事项，在eclipse里面默认开启，在IDE里面默认关闭</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1、增加依赖</span><br><span class="line"> &lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;</span><br><span class="line">    &lt;optional&gt;true&lt;/optional&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">2、eclipse热部署默认自动开启</span><br><span class="line"></span><br><span class="line">3、idea里面要设置</span><br><span class="line">    1、相关偏好里开启自动编译</span><br><span class="line">    2、Shift+Ctrl+Alt+/，选择Registry</span><br><span class="line">        选 compiler.automake.allow.when.app.running  </span><br><span class="line">        重启项目就可以了</span><br><span class="line"></span><br><span class="line">参考：</span><br><span class="line">    https://www.cnblogs.com/aqsunkai/p/6690574.html</span><br><span class="line">    compiler.automake.allow.when.app.running</span><br></pre></td></tr></table></figure>



<h4 id="第4集-后端项目分层分包及资源文件处理"><a href="#第4集-后端项目分层分包及资源文件处理" class="headerlink" title="第4集 后端项目分层分包及资源文件处理"></a>第4集 后端项目分层分包及资源文件处理</h4><p><strong>简介：项目基本目录结构，包名称建立,配置文件建立</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1、基本目录结构    </span><br><span class="line">    controller</span><br><span class="line">    service</span><br><span class="line">        impl</span><br><span class="line">    mapper</span><br><span class="line">    utils</span><br><span class="line">    domain</span><br><span class="line">    config</span><br><span class="line">    interceoter</span><br><span class="line">    dto</span><br><span class="line">2、application.properties配置文件</span><br><span class="line">   配置启动端口</span><br><span class="line">   server.port=8082</span><br></pre></td></tr></table></figure>



<h4 id="第5集-开源工具的优缺点选择和抽象方法的建议"><a href="#第5集-开源工具的优缺点选择和抽象方法的建议" class="headerlink" title="第5集 开源工具的优缺点选择和抽象方法的建议"></a>第5集 开源工具的优缺点选择和抽象方法的建议</h4><p><strong>简介：讲解开源工具的好处和弊端，如pageHeper分页拦截器，tk自动生成工具，抽象方法的利弊等</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">1、开源工具</span><br><span class="line">    好处：开发方便，使用简单，使用aop方式进行分页，只需要引入相关依赖，然后PageHelper.startPage(page, size);  开启分页</span><br><span class="line">            </span><br><span class="line">    弊端：对于分库分表等情况下使用有问题，深度分页逻辑判断会复杂</span><br><span class="line"></span><br><span class="line">    mysql资料：</span><br><span class="line">            深度分页常用案例：</span><br><span class="line">                https://www.cnblogs.com/lpfuture/p/5772055.html</span><br><span class="line">                https://blog.csdn.net/li772030428/article/details/52839987</span><br><span class="line">            推荐书籍：</span><br><span class="line">                https://book.douban.com/subject/23008813/</span><br><span class="line"></span><br><span class="line">2、封装的好坏</span><br><span class="line">        关于抽象和不抽象的选择，比如tk这些工具，通用mapper，service，controller</span><br><span class="line">        好处：</span><br><span class="line">            代码量大大减少，开发新模块可以马上进行使用</span><br><span class="line">        弊端：</span><br><span class="line">            对应过度封装，新手等比较难理解，不能保证团队里面所有人都有对应的水平，或者有高度封装的思想，也不是过度封装</span><br><span class="line"></span><br><span class="line">        课程案例：</span><br><span class="line">            分页采用pageHelper              </span><br><span class="line">            封装通用工具类，如缓存操作等</span><br><span class="line">            利于解耦，如切换缓存框架</span><br></pre></td></tr></table></figure>





<h4 id="第6集-Mysql逆向工程效率神器之使用IDE自动生成Java实体类"><a href="#第6集-Mysql逆向工程效率神器之使用IDE自动生成Java实体类" class="headerlink" title="第6集 Mysql逆向工程效率神器之使用IDE自动生成Java实体类"></a>第6集 Mysql逆向工程效率神器之使用IDE自动生成Java实体类</h4><p><strong>简介：实战使用IDE根据Mysql自动生成java pojo实体类</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1、IDEA连接数据库</span><br><span class="line">        菜单View→Tool Windows→Database打开数据库工具窗口</span><br><span class="line"></span><br><span class="line">2、左上角添加按钮“+”，选择数据库类型</span><br><span class="line"></span><br><span class="line">3、mysql主机，账户密码</span><br><span class="line">        119.23.28.97</span><br><span class="line">        root</span><br><span class="line">4、通过IDEA生成实体类</span><br><span class="line">        选中一张表，右键---&gt;Scripted Extensions---&gt;选择Generate POJOS.clj或者Generate POJOS.groovy，选择需要存放的路径，完成</span><br><span class="line"></span><br><span class="line">        自定义包名 </span><br><span class="line">            net.xdclass.xdvideo.domain</span><br><span class="line">        常用类型</span><br><span class="line">            java.util.Date</span><br><span class="line"></span><br><span class="line">5、大家一定要遵守规范</span><br></pre></td></tr></table></figure>



<h4 id="第7集-接口配置文件自动映射到属性和实体类配置"><a href="#第7集-接口配置文件自动映射到属性和实体类配置" class="headerlink" title="第7集 接口配置文件自动映射到属性和实体类配置"></a>第7集 接口配置文件自动映射到属性和实体类配置</h4><p><strong>简介：使用@value注解配置文件自动映射到属性和实体类</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1、添加 @Component或者Configuration 注解；</span><br><span class="line">                </span><br><span class="line">2、使用 @PropertySource 注解指定配置文件位置；(属性名称规范: 大模块.子模块.属性名)</span><br><span class="line">        #=================================微信相关==================</span><br><span class="line">        #公众号</span><br><span class="line">        wxpay.appid=wx5beac15ca207cdd40c</span><br><span class="line">        wxpay.appsecret=554801238f17fdsdsdd6f96b382fe548215e9</span><br><span class="line">3、必须 通过注入IOC对象Resource 进来 ， 才能在类中使用获取的配置文件值。</span><br><span class="line">        @Autowired</span><br><span class="line">        private WeChatConfig weChatConfig;</span><br><span class="line">        例子：</span><br><span class="line">        @Configuration</span><br><span class="line">        @PropertySource(value=&quot;classpath:application.properties&quot;)</span><br><span class="line">        public class WeChatConfig &#123;</span><br><span class="line">                @Value(&quot;$&#123;wxpay.appid&#125;&quot;)</span><br><span class="line">        private String appId;</span><br></pre></td></tr></table></figure>





<h3 id="第三章-开发在线教育视频站点核心业务之视频列表相关接口开发"><a href="#第三章-开发在线教育视频站点核心业务之视频列表相关接口开发" class="headerlink" title="第三章 开发在线教育视频站点核心业务之视频列表相关接口开发"></a>第三章 开发在线教育视频站点核心业务之视频列表相关接口开发</h3><h4 id="第1集-整合Mybatis访问数据库和阿里巴巴数据源"><a href="#第1集-整合Mybatis访问数据库和阿里巴巴数据源" class="headerlink" title="第1集 整合Mybatis访问数据库和阿里巴巴数据源"></a>第1集 整合Mybatis访问数据库和阿里巴巴数据源</h4><p><strong>简介：整合mysql 加入mybatis依赖，和加入alibaba druid数据源</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">1、加入依赖(可以用 http://start.spring.io/ 下载)</span><br><span class="line">                    </span><br><span class="line">        </span><br><span class="line">        &lt;!-- 引入starter--&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.3.2&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- MySQL的JDBC驱动包  --&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">            &lt;scope&gt;runtime&lt;/scope&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!-- 引入第三方数据源 --&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;druid&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.1.6&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        2、加入配置文件</span><br><span class="line">            #可以自动识别</span><br><span class="line">            #spring.datasource.driver-class-name =com.mysql.jdbc.Driver</span><br><span class="line"></span><br><span class="line">            spring.datasource.url=jdbc:mysql://localhost:3306/movie?useUnicode=true&amp;characterEncoding=utf-8</span><br><span class="line">            spring.datasource.username =root</span><br><span class="line">            spring.datasource.password =password</span><br><span class="line">            #如果不使用默认的数据源 （com.zaxxer.hikari.HikariDataSource）</span><br><span class="line">            spring.datasource.type =com.alibaba.druid.pool.DruidDataSource</span><br><span class="line"></span><br><span class="line">        加载配置，注入到sqlSessionFactory等都是springBoot帮我们完成</span><br><span class="line"></span><br><span class="line">        3、启动类增加mapper扫描</span><br><span class="line">            </span><br><span class="line">            @MapperScan(&quot;net.xdclass.xdvideo.mapper&quot;)</span><br><span class="line"></span><br><span class="line">            VideoMapper类例子</span><br><span class="line">                @Select(&quot;SELECT * FROM video&quot;)</span><br><span class="line">                @Results(&#123;</span><br><span class="line">                        @Result(column = &quot;create_time&quot;,property = &quot;createTime&quot;)  //javaType = java.util.Date.class</span><br><span class="line">                &#125;)</span><br><span class="line">                List&lt;Video&gt; getAll();</span><br><span class="line">                    </span><br><span class="line">        4、开发mapper</span><br><span class="line">            参考语法 http://www.mybatis.org/mybatis-3/zh/java-api.html</span><br><span class="line">            xml配置：http://www.mybatis.org/mybatis-3/zh/configuration.html</span><br></pre></td></tr></table></figure>



<h4 id="第2集-使用Mybatis注解开发视频列表增删改查"><a href="#第2集-使用Mybatis注解开发视频列表增删改查" class="headerlink" title="第2集 使用Mybatis注解开发视频列表增删改查"></a>第2集 使用Mybatis注解开发视频列表增删改查</h4><p><strong>讲解:使用Mybatis3.x注解方式 增删改查实操, 控制台打印sql语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">1、控制台打印sql语句        </span><br><span class="line">            #增加打印sql语句，一般用于本地开发测试</span><br><span class="line">            mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl</span><br><span class="line"></span><br><span class="line">2、增加mapper代码        </span><br><span class="line">           @Select(&quot;select * from video&quot;)</span><br><span class="line">            //    @Results(&#123;</span><br><span class="line">            //            @Result(column = &quot;cover_img&quot;,property =   </span><br><span class="line">                &quot;coverImg&quot;),</span><br><span class="line">            //            @Result(column = &quot;create_time&quot;,property =     </span><br><span class="line">                &quot;createTime&quot;)</span><br><span class="line">            //    &#125;)</span><br><span class="line">                List&lt;Video&gt; findAll();</span><br><span class="line">                @Select(&quot;SELECT * FROM video WHERE id = #&#123;id&#125;&quot;)</span><br><span class="line">                Video findById(int id);</span><br><span class="line">                @Update(&quot;UPDATE video SET title=#&#123;title&#125; WHERE id =#&#123;id&#125;&quot;)</span><br><span class="line">               int update(Video Video);</span><br><span class="line">                @Delete(&quot;DELETE FROM video WHERE id =#&#123;id&#125;&quot;)</span><br><span class="line">                int delete(int id);</span><br><span class="line">                @Insert(&quot;INSERT INTO `video` ( `title`, `summary`, &quot; +</span><br><span class="line">                        &quot;`cover_img`, `view_num`, `price`, `create_time`,&quot; +</span><br><span class="line">                            &quot; `online`, `point`)&quot; +</span><br><span class="line">                        &quot;VALUES&quot; +</span><br><span class="line">                        &quot;(#&#123;title&#125;, #&#123;summary&#125;, #&#123;coverImg&#125;, #&#123;viewNum&#125;, #&#123;price&#125;,#&#123;createTime&#125;&quot; +</span><br><span class="line">                        &quot;,#&#123;online&#125;,#&#123;point&#125;);&quot;)</span><br><span class="line">                @Options(useGeneratedKeys=true, keyProperty=&quot;id&quot;, keyColumn=&quot;id&quot;)</span><br><span class="line">                int save(Video video);</span><br><span class="line"></span><br><span class="line">         3、保存保存</span><br><span class="line">          技巧：保存对象，获取数据库自增id </span><br><span class="line">                 @Options(useGeneratedKeys=true, keyProperty=&quot;id&quot;, keyColumn=&quot;id&quot;)</span><br><span class="line"></span><br><span class="line">         4、技巧：</span><br><span class="line">            数据库字段下划线和Java实体类映射</span><br><span class="line">            # mybatis 下划线转驼峰配置,两者都可以</span><br><span class="line">            #mybatis.configuration.mapUnderscoreToCamelCase=true</span><br><span class="line">            mybatis.configuration.map-underscore-to-camel-case=true</span><br></pre></td></tr></table></figure>





<h4 id="第3集-Vidoe相关接口完善和规范协议"><a href="#第3集-Vidoe相关接口完善和规范协议" class="headerlink" title="第3集 Vidoe相关接口完善和规范协议"></a>第3集 Vidoe相关接口完善和规范协议</h4><p><strong>简介：完善相关接口，协议规范讲解</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1、save接口保存对象</span><br><span class="line">            1)@RequestParam(value = &quot;page&quot;, defaultValue)int  videoId</span><br><span class="line">                可以设置默认值，比如分页 </span><br><span class="line"></span><br><span class="line">            2)@RequestBody 请求体映射实体类</span><br><span class="line">                需要指定http头为 content-type为application/json charset=utf-8</span><br><span class="line"></span><br><span class="line">2、统一入参协议</span><br></pre></td></tr></table></figure>





<h4 id="第4集-动态Sql语句Mybaties-SqlProvider"><a href="#第4集-动态Sql语句Mybaties-SqlProvider" class="headerlink" title="第4集 动态Sql语句Mybaties SqlProvider"></a>第4集 动态Sql语句Mybaties SqlProvider</h4><p><strong>简介：讲解什么是动态sql,及使用</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">1、</span><br><span class="line">    @UpdateProvider(type=VideoSqlProvider.class,method=&quot;updateVideo&quot;)  更新</span><br><span class="line">    @InsertProvider   插入</span><br><span class="line">    @DeleteProvider   删除</span><br><span class="line">    @SelectProvider   查询</span><br><span class="line"></span><br><span class="line">2、写法</span><br><span class="line">    public String updateVideo(final Video video)&#123;  </span><br><span class="line">         return new SQL()&#123;&#123;  </span><br><span class="line">               UPDATE(&quot;video&quot;);</span><br><span class="line"></span><br><span class="line">               //条件写法.  </span><br><span class="line">               if(video.getAuthorId()!= null)&#123;  </span><br><span class="line">                  SET(&quot;author_id=#&#123;authorId&#125;&quot;);  </span><br><span class="line">               &#125;    </span><br><span class="line">               if(video.getTotalEpisode()!= null)&#123;</span><br><span class="line">                   SET(&quot;total_episode=#&#123;totalEpisode&#125;&quot;);</span><br><span class="line">               &#125;</span><br><span class="line"></span><br><span class="line">               WHERE(&quot;id=#&#123;id&#125;&quot;);</span><br><span class="line">           &#125;&#125;.toString();  </span><br><span class="line">        &#125; </span><br><span class="line">3、参考资料</span><br><span class="line">        https://www.cnblogs.com/zhangminghui/p/4903351.html</span><br></pre></td></tr></table></figure>





<h4 id="第5集-PageHelper分页插件使用"><a href="#第5集-PageHelper分页插件使用" class="headerlink" title="第5集 PageHelper分页插件使用"></a>第5集 PageHelper分页插件使用</h4><p><strong>简介：讲解开源组件，mybaits分页插件的使用</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">1、引入依赖</span><br><span class="line">            &lt;!-- 分页插件依赖 --&gt;</span><br><span class="line">            &lt;dependency&gt;</span><br><span class="line">                &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;pagehelper&lt;/artifactId&gt;</span><br><span class="line">                &lt;version&gt;4.1.0&lt;/version&gt;</span><br><span class="line">            &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">2、增加配置文件</span><br><span class="line">            @Configuration</span><br><span class="line">            public class MyBatisConfig &#123;</span><br><span class="line">                @Bean</span><br><span class="line">                public PageHelper pageHelper()&#123;</span><br><span class="line">                    PageHelper pageHelper = new PageHelper();</span><br><span class="line">                    Properties p = new Properties();</span><br><span class="line">                    p.setProperty(&quot;offsetAsPageNum&quot;,&quot;true&quot;);</span><br><span class="line">                    p.setProperty(&quot;rowBoundsWithCount&quot;,&quot;true&quot;);</span><br><span class="line">                    p.setProperty(&quot;reasonable&quot;,&quot;true&quot;);</span><br><span class="line">                    pageHelper.setProperties(p);</span><br><span class="line">                    return pageHelper;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">3、包装类</span><br><span class="line">                PageHelper.startPage(page, size);</span><br><span class="line"></span><br><span class="line">                PageInfo&lt;VideoOrder&gt; pageInfo = new PageInfo&lt;&gt;(list);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">4、基本原理  </span><br><span class="line">            sqlsessionFactory -&gt; sqlSession-&gt; executor -&gt; mybatis sql statement</span><br><span class="line">            通过mybatis plugin 增加拦截器，然后拼装分页</span><br><span class="line">            org.apache.ibatis.plugin.Interceptor</span><br></pre></td></tr></table></figure>







<h3 id="第四章-开发在线教育视频站点核心业务之JWT微服务下的用户登录权限校验"><a href="#第四章-开发在线教育视频站点核心业务之JWT微服务下的用户登录权限校验" class="headerlink" title="第四章 开发在线教育视频站点核心业务之JWT微服务下的用户登录权限校验"></a>第四章 开发在线教育视频站点核心业务之JWT微服务下的用户登录权限校验</h3><h4 id="第1集-单机和分布式应用的登录检验讲解"><a href="#第1集-单机和分布式应用的登录检验讲解" class="headerlink" title="第1集 单机和分布式应用的登录检验讲解"></a>第1集 单机和分布式应用的登录检验讲解</h4><p><strong>简介：讲解单机和分布式应用下登录校验，session共享，分布式缓存使用</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1、单机tomcat应用登录检验</span><br><span class="line">            sesssion保存在浏览器和应用服务器会话之间</span><br><span class="line">            用户登录成功，服务端会保证一个session，当然会给客户端一个sessionId，</span><br><span class="line">            客户端会把sessionId保存在cookie中，每次请求都会携带这个sessionId</span><br><span class="line"></span><br><span class="line">2、分布式应用中session共享</span><br><span class="line">            真实的应用不可能单节点部署，所以就有个多节点登录session共享的问题需要解决</span><br><span class="line">            1）tomcat支持session共享，但是有广播风暴；用户量大的时候，占用资源就严重，不推荐</span><br><span class="line">            2）使用redis存储token:</span><br><span class="line">                    服务端使用UUID生成随机64位或者128位token，放入redis中，然后返回给客户端并存储在cookie中</span><br><span class="line">                    用户每次访问都携带此token，服务端去redis中校验是否有此用户即可</span><br></pre></td></tr></table></figure>





<h4 id="第2集-微服务下登录检验解决方案-JWT讲解"><a href="#第2集-微服务下登录检验解决方案-JWT讲解" class="headerlink" title="第2集 微服务下登录检验解决方案 JWT讲解"></a>第2集 微服务下登录检验解决方案 JWT讲解</h4><p><strong>简介：微服务下登录检验解决方案 JWT讲解 json wen token</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">1、JWT 是一个开放标准，它定义了一种用于简洁，自包含的用于通信双方之间以 JSON 对象的形式安全传递信息的方法。</span><br><span class="line">            JWT 可以使用 HMAC 算法或者是 RSA 的公钥密钥对进行签名</span><br><span class="line"></span><br><span class="line">            简单来说，就是通过一定规范来生成token，然后可以通过解密算法逆向解密token，这样就可以获取用户信息</span><br><span class="line">            &#123;</span><br><span class="line">                id:888,</span><br><span class="line">                name:&apos;小D&apos;,</span><br><span class="line">                expire:10000</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            funtion 加密(object, appsecret)&#123;</span><br><span class="line">                xxxx</span><br><span class="line">                return base64( token);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function 解密(token ,appsecret)&#123;</span><br><span class="line"></span><br><span class="line">                xxxx</span><br><span class="line">                //成功返回true,失败返回false</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            优点：</span><br><span class="line">                1）生产的token可以包含基本信息，比如id、用户昵称、头像等信息，避免再次查库</span><br><span class="line"></span><br><span class="line">                2）存储在客户端，不占用服务端的内存资源</span><br><span class="line"></span><br><span class="line">            缺点：</span><br><span class="line">                token是经过base64编码，所以可以解码，因此token加密前的对象不应该包含敏感信息</span><br><span class="line">                如用户权限，密码等</span><br><span class="line"></span><br><span class="line">2、JWT格式组成 头部、负载、签名</span><br><span class="line">           header+payload+signature</span><br><span class="line"></span><br><span class="line">           头部：主要是描述签名算法</span><br><span class="line">           负载：主要描述是加密对象的信息，如用户的id等，也可以加些规范里面的东西，如iss签发者，exp 过期时间，sub 面向的用户</span><br><span class="line">           签名：主要是把前面两部分进行加密，防止别人拿到token进行base解密后篡改token</span><br><span class="line"></span><br><span class="line">3、关于jwt客户端存储</span><br><span class="line">            可以存储在cookie，localstorage和sessionStorage里面</span><br></pre></td></tr></table></figure>





<h4 id="第3集-登录检验JWT实战之封装通用方法"><a href="#第3集-登录检验JWT实战之封装通用方法" class="headerlink" title="第3集 登录检验JWT实战之封装通用方法"></a>第3集 登录检验JWT实战之封装通用方法</h4><p><strong>讲解：引入相关依赖并开发JWT工具类</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1、加入相关依赖</span><br><span class="line"></span><br><span class="line">    &lt;!-- JWT相关 --&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;0.7.0&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">2、开发生产token方法</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3、开发检验token方法</span><br></pre></td></tr></table></figure>











<h3 id="第五章-开发在线教育视频站点核心业务之微信授权用户接口开发"><a href="#第五章-开发在线教育视频站点核心业务之微信授权用户接口开发" class="headerlink" title="第五章 开发在线教育视频站点核心业务之微信授权用户接口开发"></a>第五章 开发在线教育视频站点核心业务之微信授权用户接口开发</h3><h4 id="第1集-数据信息安全–微信授权一键登录功能介绍"><a href="#第1集-数据信息安全–微信授权一键登录功能介绍" class="headerlink" title="第1集 数据信息安全–微信授权一键登录功能介绍"></a>第1集 数据信息安全–微信授权一键登录功能介绍</h4><p><strong>简介：讲解登录方式优缺点和微信授权一键登录功能介绍</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">1、手机号或者邮箱注册</span><br><span class="line">            优点：</span><br><span class="line">                1）企业获取了用户的基本资料信息，利于后续业务发展</span><br><span class="line">                    推送营销类信息</span><br><span class="line">                2）用户可以用个手机号或者邮箱获取对应的app福利</span><br><span class="line">                    注册送优惠券</span><br><span class="line">                3）反馈信息的时候方便，直接报手机号即可</span><br><span class="line">                    账户出问题，被盗等</span><br><span class="line"></span><br><span class="line">        缺点：</span><br><span class="line">            1）步骤多           </span><br><span class="line">            2）如果站点不安全，如站点被攻击，泄漏了个人信息，如手机号，密码等</span><br><span class="line">            3）少量不良企业贩卖个人信息，如手机号</span><br><span class="line"></span><br><span class="line">2、OAuth2.0一键授权登录</span><br><span class="line">    例子：</span><br><span class="line">        豆瓣：www.douban.com</span><br><span class="line">        小D课堂：www.xdclass.net</span><br><span class="line"></span><br><span class="line">    优点：</span><br><span class="line">        使用快捷，用户体验好，数据相对安全</span><br><span class="line">    缺点：</span><br><span class="line">        1、反馈问题麻烦，比较难知道唯一标识</span><br><span class="line">        2、如果是企业下面有多个应用，其中有应用不支持Auth2.0登录，则没法做到用户信息打通，积分                 不能复用等</span><br><span class="line">            如app接入了微信授权登录，但是网站没有，则打不通，</span><br><span class="line">            或者授权方只提供了一种终端授权，则信息无法打通，</span><br><span class="line"></span><br><span class="line">3、选择方式：</span><br><span class="line">    1）看企业和实际业务情况</span><br><span class="line">    2）务必区分，普通密码和核心密码</span><br></pre></td></tr></table></figure>





<h4 id="第2集-微信扫一扫功能开发前期准备"><a href="#第2集-微信扫一扫功能开发前期准备" class="headerlink" title="第2集 微信扫一扫功能开发前期准备"></a>第2集 微信扫一扫功能开发前期准备</h4><p><strong>简介：讲解微信扫一扫功能相关开发流程和资料准备</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1、微信开放平台介绍（申请里面的网站应用需要企业资料）</span><br><span class="line">            网站:https://open.weixin.qq.com/</span><br><span class="line"></span><br><span class="line">2、什么是appid、appsecret、授权码code</span><br><span class="line">    appid和appsecret是 资源所有者向申请人分配的一个id和秘钥</span><br><span class="line">    code是授权凭证，A-&gt;B 发起授权，想获取授权用户信息，那a必须携带授权码，才可以向B获取授权信息</span><br><span class="line"></span><br><span class="line">    (你要从我这里拿东西出去，就必须带身份证)</span><br></pre></td></tr></table></figure>



<h4 id="第3集-微信Oauth2-0交互流程讲解"><a href="#第3集-微信Oauth2-0交互流程讲解" class="headerlink" title="第3集 微信Oauth2.0交互流程讲解"></a>第3集 微信Oauth2.0交互流程讲解</h4><p><strong>简介：讲解微信Oauth2.0交互流程</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">参考：https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&amp;t=resource/res_list&amp;verify=1&amp;id=open1419316505&amp;token=&amp;lang=zh_CN</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        1、区分角色 用户，第三应用，微信开放平台</span><br><span class="line">            画图讲解</span><br><span class="line"></span><br><span class="line">        2、如果想看时序图知识，请跳转到微信支付章节，时序图知识讲解</span><br></pre></td></tr></table></figure>





<h4 id="第4集-微信授权一键登录开发之授权URL获取"><a href="#第4集-微信授权一键登录开发之授权URL获取" class="headerlink" title="第4集 微信授权一键登录开发之授权URL获取"></a>第4集 微信授权一键登录开发之授权URL获取</h4><p><strong>简介：获取微信开放平台扫码连url地址</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1、增加结果工具类，JsonData;  增加application.properties配置</span><br><span class="line">        #微信开放平台配置</span><br><span class="line">        wxopen.appid=</span><br><span class="line">        wxopen.appsecret=</span><br><span class="line">        #重定向url</span><br><span class="line">        wxopen.redirect_url=http://test/pub/api/v1/wechat/user/callback1</span><br><span class="line"></span><br><span class="line">      wechatConfig里面增加属性</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 微信开放平台二维码连接</span><br><span class="line">     */</span><br><span class="line">    private final static String OPEN_QRCODE_URL= &quot;https://open.weixin.qq.com/connect/qrconnect?appid=%s&amp;redirect_uri=%s&amp;response_type=code&amp;scope=snsapi_login&amp;state=%s#wechat_redirect&quot;;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    2、拼接url</span><br></pre></td></tr></table></figure>





<h4 id="第5集-HttpClient4-x工具获取使用"><a href="#第5集-HttpClient4-x工具获取使用" class="headerlink" title="第5集 HttpClient4.x工具获取使用"></a>第5集 HttpClient4.x工具获取使用</h4><p><strong>简介：讲解httpClient4.x相关依赖，并封装基本方法。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">1、加入依赖</span><br><span class="line">       &lt;dependency&gt;</span><br><span class="line">               &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;</span><br><span class="line">               &lt;artifactId&gt;httpclient&lt;/artifactId&gt;</span><br><span class="line">               &lt;version&gt;4.5.3&lt;/version&gt;</span><br><span class="line">           &lt;/dependency&gt;</span><br><span class="line">           &lt;dependency&gt;</span><br><span class="line">               &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;</span><br><span class="line">               &lt;artifactId&gt;httpmime&lt;/artifactId&gt;</span><br><span class="line">               &lt;version&gt;4.5.2&lt;/version&gt;</span><br><span class="line">           &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">           &lt;dependency&gt;</span><br><span class="line">               &lt;groupId&gt;commons-codec&lt;/groupId&gt;</span><br><span class="line">               &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;</span><br><span class="line">           &lt;/dependency&gt;</span><br><span class="line">           &lt;dependency&gt;</span><br><span class="line">               &lt;groupId&gt;commons-logging&lt;/groupId&gt;</span><br><span class="line">               &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;</span><br><span class="line">               &lt;version&gt;1.1.1&lt;/version&gt;</span><br><span class="line">           &lt;/dependency&gt;</span><br><span class="line">                   &lt;dependency&gt;</span><br><span class="line">                   &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;</span><br><span class="line">                   &lt;artifactId&gt;httpcore&lt;/artifactId&gt;</span><br><span class="line">           &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       &lt;!-- gson工具，封装http的时候使用 --&gt;</span><br><span class="line">       &lt;dependency&gt;</span><br><span class="line">           &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;</span><br><span class="line">           &lt;artifactId&gt;gson&lt;/artifactId&gt;</span><br><span class="line">           &lt;version&gt;2.8.0&lt;/version&gt;</span><br><span class="line">       &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">   2、封装工具类的使用</span><br><span class="line">       封装doGet doPost</span><br></pre></td></tr></table></figure>





<h4 id="第6集-微信扫码登录回调本地域名映射工具Ngrock"><a href="#第6集-微信扫码登录回调本地域名映射工具Ngrock" class="headerlink" title="第6集 微信扫码登录回调本地域名映射工具Ngrock"></a>第6集 微信扫码登录回调本地域名映射工具Ngrock</h4><p><strong>简介 讲解微信扫码回调本地域名ngrock讲解</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1、为什么要用这个，微信扫码需要配置回调，需要配置对应的域名</span><br><span class="line">           在本地电脑开发，微信没法回调，所以需要配置个地址映射，就是微信服务器</span><br><span class="line">           可以通过这个地址访问当前开发电脑的地址</span><br><span class="line"></span><br><span class="line">2、使用文档：</span><br><span class="line">            https://mp.weixin.qq.com/s/oakwABv56Jc6u450AHt9iA</span><br></pre></td></tr></table></figure>





<h4 id="第7集-授权登录获取微信用户个人信息实战"><a href="#第7集-授权登录获取微信用户个人信息实战" class="headerlink" title="第7集 授权登录获取微信用户个人信息实战"></a>第7集 授权登录获取微信用户个人信息实战</h4><p><strong>简介：讲解使用授权码code获取用户个人信息接口</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">关键点：看微信文档，字段尽量用拷贝</span><br><span class="line"></span><br><span class="line">        1、通过code获取access_token</span><br><span class="line">        文档:</span><br><span class="line">            https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&amp;t=resource/res_list&amp;verify=1&amp;id=open1419316505&amp;token=7e1296c8174816ac988643825ae16f25d8c7e781&amp;lang=zh_CN</span><br><span class="line"></span><br><span class="line">        2、通过access_token获取微信用户头像和昵称等基本信息</span><br><span class="line"></span><br><span class="line">        文档：https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&amp;t=resource/res_list&amp;verify=1&amp;id=open1419316518&amp;token=7e1296c8174816ac988643825ae16f25d8c7e781&amp;lang=zh_CN</span><br></pre></td></tr></table></figure>





<h4 id="第8集-用户模块开发之保存微信用户信息"><a href="#第8集-用户模块开发之保存微信用户信息" class="headerlink" title="第8集 用户模块开发之保存微信用户信息"></a>第8集 用户模块开发之保存微信用户信息</h4><p><strong>简介：开发User数据访问层，保存微信用户信息</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">问题：</span><br><span class="line">    微信回调 用户昵称乱码</span><br><span class="line">    解决：</span><br><span class="line">        nickname = new String(nickname.getBytes(&quot;ISO-8859-1&quot;), &quot;UTF-8&quot;);</span><br><span class="line"></span><br><span class="line">1、封装User对象</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2、插入数据库</span><br><span class="line">    获取openid后，查询是否有此用户，如果有则不发请求去获取用户信息</span><br><span class="line">    方法：保存用户，根据id查询用户，根据openid查询用户</span><br><span class="line"></span><br><span class="line">3、mybatis参数注意</span><br><span class="line">    取值用 #&#123;&#125; ，别用$&#123;&#125;，因为存在sql注入风险</span><br></pre></td></tr></table></figure>



<h4 id="第9集-使用JWT生成用户Token回写客户端"><a href="#第9集-使用JWT生成用户Token回写客户端" class="headerlink" title="第9集 使用JWT生成用户Token回写客户端"></a>第9集 使用JWT生成用户Token回写客户端</h4><p><strong>简介：讲解用户授权登录后，需要生成登录凭证重定向到页面上</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1、获取当前页面访问地址</span><br><span class="line"></span><br><span class="line">2、根据User基本信息生成token</span><br><span class="line"></span><br><span class="line">3、重定向到指定页面</span><br></pre></td></tr></table></figure>



<h4 id="第10集-Springboot2-x用户登录拦截器开发实战"><a href="#第10集-Springboot2-x用户登录拦截器开发实战" class="headerlink" title="第10集 Springboot2.x用户登录拦截器开发实战"></a>第10集 Springboot2.x用户登录拦截器开发实战</h4><p><strong>简介：实战开发用户登录拦截器拦截器 LoginInterceptor</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">1、实现接口 LoginInterceptor implements HandlerInterceptor</span><br><span class="line"></span><br><span class="line">        2、重写preHandler</span><br><span class="line">             String accessToken = request.getHeader(&quot;token&quot;);</span><br><span class="line">            if(accessToken == null)&#123;</span><br><span class="line">                accessToken = request.getParameter(&quot;token&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            if (accessToken != null ) &#123;</span><br><span class="line">                Claims claims = JWTUtils.checkJWT(accessToken);</span><br><span class="line">                Integer id = (Integer)claims.get(&quot;id&quot;);</span><br><span class="line">                String  name = (String)claims.get(&quot;name&quot;);</span><br><span class="line">                request.setAttribute(&quot;user_id&quot;,id);</span><br><span class="line">                request.setAttribute(&quot;name&quot;,name);</span><br><span class="line">                //普通用户</span><br><span class="line">                return true;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            return false;</span><br><span class="line">        3、配置拦截器 </span><br><span class="line">        @Configuration</span><br><span class="line">        InterceptorConfig implements WebMvcConfigurer</span><br><span class="line"></span><br><span class="line">         @Override</span><br><span class="line">        public void addInterceptors(InterceptorRegistry registry) &#123;</span><br><span class="line"></span><br><span class="line">            registry.addInterceptor(new LoginInterceptor()).addPathPatterns(&quot;/user/api/v1/*/**&quot;);</span><br><span class="line"></span><br><span class="line">            WebMvcConfigurer.super.addInterceptors(registry);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        4、响应前端数据</span><br><span class="line">        </span><br><span class="line">        public static void sendJsonMessage(HttpServletResponse response, Object obj) throws Exception &#123;</span><br><span class="line">            Gson g = new Gson();</span><br><span class="line">            response.setContentType(&quot;application/json; charset=utf-8&quot;);</span><br><span class="line">            PrintWriter writer = response.getWriter();</span><br><span class="line">            writer.print(g.toJson(obj));</span><br><span class="line">            writer.close();</span><br><span class="line">            response.flushBuffer();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>











<h3 id="第六章-开发在线教育视频站点核心业务之从零基础接入微信扫一扫网页支付"><a href="#第六章-开发在线教育视频站点核心业务之从零基础接入微信扫一扫网页支付" class="headerlink" title="第六章 开发在线教育视频站点核心业务之从零基础接入微信扫一扫网页支付"></a>第六章 开发在线教育视频站点核心业务之从零基础接入微信扫一扫网页支付</h3><h4 id="第1集-常用的第三方支付和聚合支付介绍"><a href="#第1集-常用的第三方支付和聚合支付介绍" class="headerlink" title="第1集 常用的第三方支付和聚合支付介绍"></a>第1集 常用的第三方支付和聚合支付介绍</h4><p><strong>简介：介绍常用的第三方支付和聚合支付</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">1、什么是第三方支付</span><br><span class="line">        第三方支付是指具备一定实力和信誉保障的独立机构，采用与各大银行签约的方式，通过与银行支付结算系统接口对接而促成交易双方进行交易的网络支付模式。</span><br><span class="line">        </span><br><span class="line">        通俗的例子：  </span><br><span class="line">            支付宝，微信支付，百度钱包，PayPal（主要是欧美国家）</span><br><span class="line"></span><br><span class="line">            拉卡拉(中国最大线下便民金融服务提供商)</span><br><span class="line"></span><br><span class="line">        优点：</span><br><span class="line">            1、支付平台降低了政府、企业、事业单位直连银行的成本，满足了企业专注发展在线业务的收付要求。</span><br><span class="line">            </span><br><span class="line">            2、使用方便。对支付者而言，他所面对的是友好的界面，不必考虑背后复杂的技术操作过程</span><br><span class="line"></span><br><span class="line">        缺点：</span><br><span class="line">            1、风险问题，</span><br><span class="line">            在电子支付流程中，资金都会在第三方支付服务商处滞留即出现所谓的资金沉淀，如缺乏有效的流动性管理，则可能存在资金安全和支付的风险</span><br><span class="line"></span><br><span class="line">            2、电子支付经营资格的认知、保护和发展问题</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    2、什么是聚合支付</span><br><span class="line">        解释：</span><br><span class="line">            聚合支付是相对之前的第三方支付而言的，作为对第三方支付平台服务的拓展，第三方支付是介于银行和商户之间的，而聚合支付是介于第三方支付和商户之间</span><br><span class="line"></span><br><span class="line">        出现的场景：</span><br><span class="line">            一堆第三方支付出现，并通过大量的钱补贴线上商家使用它们的支付，导致商户收银台堆满各种</span><br><span class="line">            POS机器，扫码设备，商户还需要去各家支付公司申请账号，结算等</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        解决的问题：聚合支付公司提供的二维码，支付多种方式支付，不再是一种，各个公司的竞争，就是支付渠道和方式的支持</span><br><span class="line"></span><br><span class="line">        了解更多:https://www.zhihu.com/question/50426677</span><br></pre></td></tr></table></figure>



<h4 id="第2集-申请微信支付介绍和不同场景的支付方式"><a href="#第2集-申请微信支付介绍和不同场景的支付方式" class="headerlink" title="第2集 申请微信支付介绍和不同场景的支付方式"></a>第2集 申请微信支付介绍和不同场景的支付方式</h4><p><strong>简介：介绍微信商户平台，支付方式和使用场景，申请微信支付流程</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1、什么是微信商户平台：</span><br><span class="line">            地址：https://pay.weixin.qq.com</span><br><span class="line">            提供给商家使用，用于查看交易数据，提现等信息</span><br><span class="line"></span><br><span class="line">2、常用的支付方式 公众号支付，扫码支付，app支付，小程序支付</span><br><span class="line">    官方地址：https://pay.weixin.qq.com/wiki/doc/api/index.html</span><br><span class="line">    案例演示: https://pay.weixin.qq.com/guide/webbased_payment.shtml</span><br><span class="line"></span><br><span class="line">3、微信支付申请流程 https://pay.weixin.qq.com/guide/qrcode_payment.shtml</span><br><span class="line">    1）申请公众号(服务号)  认证费 300</span><br><span class="line">    2）开通微信支付</span><br></pre></td></tr></table></figure>



<h4 id="第3集-微信网站扫码支付介绍"><a href="#第3集-微信网站扫码支付介绍" class="headerlink" title="第3集 微信网站扫码支付介绍"></a>第3集 微信网站扫码支付介绍</h4><p><strong>简介：讲解微信网页扫码支付</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">1、扫码支付文档：https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=2_2</span><br><span class="line"></span><br><span class="line">2、名称理解</span><br><span class="line"></span><br><span class="line">    appid：公众号唯一标识</span><br><span class="line">    appsecret：公众号的秘钥</span><br><span class="line"></span><br><span class="line">    mch_id：商户号，申请微信支付的时候分配的</span><br><span class="line">    key：支付交易过程生成签名的秘钥，设置路径 </span><br><span class="line">        微信商户平台(pay.weixin.qq.com)--&gt;账户中心--&gt;账户设置--&gt;API安全--&gt;密钥设置</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3、和微信支付交互方式</span><br><span class="line">    1、post方式提交</span><br><span class="line">    2、xml格式的协议</span><br><span class="line">    3、签名算法MD5</span><br><span class="line">    </span><br><span class="line">    4、交互业务规则 先判断协议字段返回，再判断业务返回，最后判断交易状态</span><br><span class="line">    5、接口交易单位为 分</span><br><span class="line">    6、交易类型：JSAPI--公众号支付、NATIVE--原生扫码支付、APP--app支付</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    7、商户订单号规则：</span><br><span class="line">        商户支付的订单号由商户自定义生成，仅支持使用字母、数字、中划线-、下划线_、竖线|、星号*这些英文半角字符的组合，请勿使用汉字或全角等特殊字符，微信支付要求商户订单号保持唯一性</span><br><span class="line"></span><br><span class="line">    8、安全规范：</span><br><span class="line">         签名算法：https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=4_3</span><br><span class="line">         校验工具：https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=20_1</span><br><span class="line"></span><br><span class="line">    9、采用微信支付扫码模式二（不依赖商户平台设置回调url）</span><br></pre></td></tr></table></figure>



<h4 id="第4集-互联网架构知识时序图讲解"><a href="#第4集-互联网架构知识时序图讲解" class="headerlink" title="第4集 互联网架构知识时序图讲解"></a>第4集 互联网架构知识时序图讲解</h4><p><strong>简介：讲解什么是时序图，为啥要看时序图</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">微信支付时序图 官方文档：</span><br><span class="line">        https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=6_5</span><br><span class="line">    </span><br><span class="line">        1、什么是时序图</span><br><span class="line">            是一种UML交互图，描述了对象之间传递消息的时间顺序, 用来表示用例中的行为顺序, 是强调消息时间           顺序的交互图;</span><br><span class="line"></span><br><span class="line">            通俗解释：就是交互流程图 (把大象装冰箱分几步)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        2、时序图包括四个元素 对象(Object), 生命线(Lifeline), 激活(Activation), 消息(Message);</span><br><span class="line"></span><br><span class="line">            对象：时序图中的对象在交互中扮演的角色就是对象，使用矩形将对象名称包含起来, 名称下有下划线</span><br><span class="line"></span><br><span class="line">            生命线：生命线是一条垂直的虚线, 这条虚线表示对象的存在, 在时序图中, 每个对象都有生命线</span><br><span class="line"></span><br><span class="line">            激活：代表时序图中对象执行一项操作的时期, 表示该对象被占用以完成某个任务，当对象处于激活时期, 生命线可以拓宽为矩形</span><br><span class="line"></span><br><span class="line">            消息：对象之间的交互是通过相互发消息来实现的，箭头上面标出消息名，一个对象可以请求（要求）另一个对象做某件事件</span><br><span class="line">            消息从源对象指向目标对象，消息一旦发送便将控制从源对象转移到目标对象，息的阅读顺序是严格自上而下的</span><br><span class="line"></span><br><span class="line">            消息交互中的实线：请求消息</span><br><span class="line">            消息交互中的虚线：响应返回消息</span><br><span class="line"></span><br><span class="line">            自己调用自己的方法：反身消息</span><br><span class="line"></span><br><span class="line">    参考：https://www.cnblogs.com/langtianya/p/3825764.html</span><br></pre></td></tr></table></figure>





<h4 id="第5集-微信网页扫码支付时序图讲解和统一下单接口"><a href="#第5集-微信网页扫码支付时序图讲解和统一下单接口" class="headerlink" title="第5集 微信网页扫码支付时序图讲解和统一下单接口"></a>第5集 微信网页扫码支付时序图讲解和统一下单接口</h4><p><strong>简介：讲解微信网页扫码支付时序图讲解和统一下单接口</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1、时序图地址：https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=6_5</span><br><span class="line">        </span><br><span class="line">2、统一下单接口介绍：</span><br><span class="line">        商户系统先调用该接口在微信支付服务后台生成预支付交易单，返回正确的预支付交易会话标识后再按扫码、JSAPI、APP等不同场景生成交易串调起支付。</span><br></pre></td></tr></table></figure>





<h4 id="第6集-微信支付订单接口开发之订单增删改查"><a href="#第6集-微信支付订单接口开发之订单增删改查" class="headerlink" title="第6集 微信支付订单接口开发之订单增删改查"></a>第6集 微信支付订单接口开发之订单增删改查</h4><p><strong>简介: 微信扫码支付之统一下单接口开发之订单增删改查</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1、Dao层VideoOrder增删改查开发</span><br><span class="line"> @Insert(&quot;&quot;)</span><br><span class="line"> @Options(useGeneratedKeys=true, keyProperty=&quot;id&quot;, keyColumn=&quot;id&quot;)   //keyProperty java对象的属性；keyColumn表示数据库的字段</span><br><span class="line"> int insert(VideoOrder order);</span><br><span class="line">         </span><br><span class="line"> @Select(&quot;SELECT * FROM video_order WHERE id = #&#123;id&#125;&quot;)</span><br><span class="line"> VideoOrder findById(int id);</span><br><span class="line"></span><br><span class="line"> @Select(&quot;SELECT * FROM video_order WHERE id = #&#123;id&#125;&quot;)</span><br><span class="line"> VideoOrder findByOutTradeNo(String  outTradeNo);</span><br><span class="line"></span><br><span class="line"> @Delete(&quot;DELETE FROM video_order WHERE id =#&#123;id&#125;&quot;)</span><br><span class="line">  int delete(int  id);</span><br></pre></td></tr></table></figure>



<h4 id="第7集-IDE生成订单接口单元测试和断言开发"><a href="#第7集-IDE生成订单接口单元测试和断言开发" class="headerlink" title="第7集 IDE生成订单接口单元测试和断言开发"></a>第7集 IDE生成订单接口单元测试和断言开发</h4><p><strong>简介:讲解使用IDE生成单元测试和基本流程</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、 核心注解</span><br><span class="line">            @RunWith(SpringRunner.class)</span><br><span class="line">            @SpringBootTest</span><br><span class="line"></span><br><span class="line">2、根据公司情况，写单元测试，核心接口一定要写，非核心的尽量写</span><br><span class="line"></span><br><span class="line">3、断言类型，可以细化</span><br></pre></td></tr></table></figure>



<h4 id="第8集-微信统一下单接口开发之CommonUtils和WXpayUtils开发"><a href="#第8集-微信统一下单接口开发之CommonUtils和WXpayUtils开发" class="headerlink" title="第8集 微信统一下单接口开发之CommonUtils和WXpayUtils开发"></a>第8集 微信统一下单接口开发之CommonUtils和WXpayUtils开发</h4><p><strong>简介：封装常用工具类CommonUtils和WXpayUtils</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">从微信开发者文档获取部分代码 https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=11_1</span><br><span class="line"></span><br><span class="line">    1、CommonUtils包含方法 md5,uuid等</span><br><span class="line">        //生成 uuid， 即用来标识一笔单，也用做 nonce_str</span><br><span class="line">        public static String generateUUID() &#123;</span><br><span class="line">            return UUID.randomUUID().toString().replaceAll(&quot;-&quot;, &quot;&quot;)</span><br><span class="line">                    .substring(0, 32);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //MD5工具类</span><br><span class="line">        public static String MD5(String data)  &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                java.security.MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);</span><br><span class="line">                byte[] array = md.digest(data.getBytes(&quot;UTF-8&quot;));</span><br><span class="line">                StringBuilder sb = new StringBuilder();</span><br><span class="line">                for (byte item : array) &#123;</span><br><span class="line">                    sb.append(Integer.toHexString((item &amp; 0xFF) | 0x100).substring(1, 3));</span><br><span class="line">                &#125;</span><br><span class="line">                return sb.toString().toUpperCase();</span><br><span class="line">            &#125; catch (Exception exception) &#123;</span><br><span class="line">            &#125;</span><br><span class="line">            return null;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    2、WXPayUtil包含方法 xmlToMap，mapToXml，createSign，isCorrectPaySign</span><br></pre></td></tr></table></figure>



<h4 id="第9集、微信支付Controller下单API接口开发"><a href="#第9集、微信支付Controller下单API接口开发" class="headerlink" title="第9集、微信支付Controller下单API接口开发"></a>第9集、微信支付Controller下单API接口开发</h4><p><strong>简介：讲解下单接口开发，开发技巧和支付配置文件设置</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、开发controller，开发期间不加入拦截器登录校验</span><br><span class="line">2、iputils工具类介绍</span><br><span class="line">3、加入微信支付配置</span><br><span class="line">    #微信商户平台</span><br><span class="line">    wxpay.mer_id=1503808832</span><br><span class="line">    wxpay.key=xdclasss20182018xdclass2018x018d</span><br><span class="line">    wxpay.callback=16web.tunnel.qydev.com/pub/api/v1/wechat/order/callback1</span><br></pre></td></tr></table></figure>





<h4 id="第10集、微信支付下单API接口和签名开发"><a href="#第10集、微信支付下单API接口和签名开发" class="headerlink" title="第10集、微信支付下单API接口和签名开发"></a>第10集、微信支付下单API接口和签名开发</h4><p><strong>简介：下单接口开发和微信支付签名生成开发，并设置微信回调地址(用于用户微信支付成功后，通知我们服务器完成更新订单状态)</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">1、统一下单参数需要微信签名，签名规则如下</span><br><span class="line">            文档地址：https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=4_3</span><br><span class="line">            签名生成的通用步骤如下：</span><br><span class="line"></span><br><span class="line">            第一步，设所有发送或者接收到的数据为集合M，将集合M内非空参数值的参数按照参数名ASCII码从小到大排序（字典序），使用URL键值对的格式（即key1=value1&amp;key2=value2…）拼接成字符串stringA。</span><br><span class="line"></span><br><span class="line">            第二步，在stringA最后拼接上key得到stringSignTemp字符串，并对stringSignTemp进行MD5运算，再将得到的字符串所有字符转换为大写，得到sign值signValue。key设置路径：微信商户平台(pay.weixin.qq.com)--&gt;账户设置--&gt;API安全--&gt;密钥设置</span><br><span class="line"></span><br><span class="line">            参数</span><br><span class="line">                SortedMap&lt;String, String&gt; params = new TreeMap&lt;&gt;();  </span><br><span class="line">                params.put(&quot;appid&quot;, wxPayConfig.getAppId());  //公众账号ID  </span><br><span class="line">                params.put(&quot;mch_id&quot;, wxPayConfig.getMchId());  //商户号    </span><br><span class="line">                params.put(&quot;nonce_str&quot;, CommonUtil.generateNonceStr());  //随机字符串    </span><br><span class="line">                params.put(&quot;body&quot;, videoOrder.getVideoTitle());  // 商品描述    </span><br><span class="line">                params.put(&quot;out_trade_no&quot;, videoOrder.getOutTradeNo()); //商户订单号,商户系统内部订单号，要求32个字符内，只能是数字、大小写字母_-|* 且在同一个商户号下唯一</span><br><span class="line">                params.put(&quot;total_fee&quot;, videoOrder.getTotalFee().toString());  //标价金额   分</span><br><span class="line">                params.put(&quot;spbill_create_ip&quot;, videoOrder.getIp());  </span><br><span class="line">                params.put(&quot;notify_url&quot;, wxPayConfig.getDomain()+wxPayConfig.getCallbackUrl()); //通知地址    </span><br><span class="line">                params.put(&quot;trade_type&quot;, &quot;NATIVE&quot;);  //交易类型 JSAPI 公众号支付 NATIVE 扫码支付 APP APP支付</span><br><span class="line">                </span><br><span class="line">                //生成签名</span><br><span class="line">                String sign = WXPayUtil.createSign(params, wxPayConfig.getKey());</span><br><span class="line">                params.put(&quot;sign&quot;, sign); </span><br><span class="line">                //参数转xml</span><br><span class="line">                String requestXMl = WXPayUtil.mapToXml(params);</span><br><span class="line"></span><br><span class="line">                生成签名后，通过工具去校验</span><br><span class="line">                https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=20_1</span><br><span class="line"></span><br><span class="line">        2、测试地址：localhost:8081/api/v1/order/add?video_id=2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        3、课程测试签名结果</span><br><span class="line">            </span><br><span class="line">            sign: 85118C91DFCB052FB02AC183BF3D57D2</span><br><span class="line"></span><br><span class="line">            &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;</span><br><span class="line">            &lt;xml&gt;</span><br><span class="line">            &lt;appid&gt;wx5beac15ca207cdd40c&lt;/appid&gt;</span><br><span class="line">            &lt;body&gt;高级教程666&lt;/body&gt;</span><br><span class="line">            &lt;mch_id&gt;1503808832&lt;/mch_id&gt;</span><br><span class="line">            &lt;nonce_str&gt;b11446ae6fc14ddb89c9bc5fa291dc43&lt;/nonce_str&gt;</span><br><span class="line">            &lt;notify_url&gt;16web.tunnel.qydev.com/pub/api/v1/wechat/order/callback1&lt;/notify_url&gt;</span><br><span class="line">            &lt;out_trade_no&gt;2a273e4b9f8c453380a08c7930fc3b6b&lt;/out_trade_no&gt;</span><br><span class="line">            &lt;sign&gt;85118C91DFCB052FB02AC183BF3D57D2&lt;/sign&gt;</span><br><span class="line">            &lt;spbill_create_ip&gt;0:0:0:0:0:0:0:1&lt;/spbill_create_ip&gt;</span><br><span class="line">            &lt;total_fee&gt;500&lt;/total_fee&gt;</span><br><span class="line">            &lt;trade_type&gt;NATIVE&lt;/trade_type&gt;</span><br><span class="line">            &lt;/xml&gt;</span><br></pre></td></tr></table></figure>



<h4 id="第11集-调用微信统一下单接口实战"><a href="#第11集-调用微信统一下单接口实战" class="headerlink" title="第11集 调用微信统一下单接口实战"></a>第11集 调用微信统一下单接口实战</h4><p><strong>简介：调用微信统一下单接口实战，发送post请求，并获取响应转成map，获取交易会话的二维码链接code_url。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1、配置统一下单接口</span><br><span class="line">        2、发送请求验证</span><br><span class="line">            微信统一下单响应</span><br><span class="line">                &lt;xml&gt;&lt;return_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/return_code&gt;</span><br><span class="line">                &lt;return_msg&gt;&lt;![CDATA[OK]]&gt;&lt;/return_msg&gt;</span><br><span class="line">                &lt;appid&gt;&lt;![CDATA[wx5beac15ca207c40c]]&gt;&lt;/appid&gt;</span><br><span class="line">                &lt;mch_id&gt;&lt;![CDATA[1503809911]]&gt;&lt;/mch_id&gt;</span><br><span class="line">                &lt;nonce_str&gt;&lt;![CDATA[Go5gDC2CYL5HvizG]]&gt;&lt;/nonce_str&gt;</span><br><span class="line">                &lt;sign&gt;&lt;![CDATA[BC62592B9A94F5C914FAAD93ADE7662B]]&gt;&lt;/sign&gt;</span><br><span class="line">                &lt;result_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/result_code&gt;</span><br><span class="line">                &lt;prepay_id&gt;&lt;![CDATA[wx262207318328044f75c9ebec2216783076]]&gt;&lt;/prepay_id&gt;</span><br><span class="line">                &lt;trade_type&gt;&lt;![CDATA[NATIVE]]&gt;&lt;/trade_type&gt;</span><br><span class="line">                &lt;code_url&gt;&lt;![CDATA[weixin://wxpay/bizpayurl?pr=hFq9fX6]]&gt;&lt;/code_url&gt;</span><br><span class="line">                &lt;/xml&gt;</span><br><span class="line">        3、获取code_url</span><br><span class="line"></span><br><span class="line">            遇到问题，根据错误码解决</span><br><span class="line">            https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=9_1</span><br></pre></td></tr></table></figure>



<h4 id="第12集、谷歌二维码工具生成扫一扫支付二维码"><a href="#第12集、谷歌二维码工具生成扫一扫支付二维码" class="headerlink" title="第12集、谷歌二维码工具生成扫一扫支付二维码"></a>第12集、谷歌二维码工具生成扫一扫支付二维码</h4><p><strong>简介：使用谷歌二维码工具根据code_url生成扫一扫支付二维码</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">1、生成二维码返回页端     </span><br><span class="line"></span><br><span class="line">            加入依赖</span><br><span class="line">                &lt;!-- google二维码生成包 --&gt;</span><br><span class="line">                &lt;dependency&gt;</span><br><span class="line">                    &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;</span><br><span class="line">                    &lt;artifactId&gt;javase&lt;/artifactId&gt;</span><br><span class="line">                    &lt;version&gt;3.3.0&lt;/version&gt;</span><br><span class="line">                &lt;/dependency&gt;</span><br><span class="line">                        </span><br><span class="line">                &lt;dependency&gt;</span><br><span class="line">                    &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;</span><br><span class="line">                    &lt;artifactId&gt;core&lt;/artifactId&gt;</span><br><span class="line">                    &lt;version&gt;2.0&lt;/version&gt;</span><br><span class="line">                &lt;/dependency&gt;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        2、使用微信扫码完成支付</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        参考资料：https://blog.csdn.net/shenfuli/article/details/68923393</span><br><span class="line">                https://www.cnblogs.com/lanxiamo/p/6293580.html</span><br><span class="line"></span><br><span class="line">                二维码知识：https://coolshell.cn/articles/10590.html</span><br></pre></td></tr></table></figure>





<h4 id="第13集、微信支付扫码回调开发实战"><a href="#第13集、微信支付扫码回调开发实战" class="headerlink" title="第13集、微信支付扫码回调开发实战"></a>第13集、微信支付扫码回调开发实战</h4><p><strong>简介：使用Ngrock本地接收微信回调，并开发回调接口</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">文档：https://pay.weixin.qq.com/wiki/doc/api/app/app.php?chapter=9_7&amp;index=3</span><br><span class="line"></span><br><span class="line">         1 、开发支付回调接口</span><br><span class="line"></span><br><span class="line">         //读取回调输入流   </span><br><span class="line">           StringBuffer sb = new StringBuffer();    </span><br><span class="line">           InputStream inputStream = request.getInputStream();    </span><br><span class="line">           String line ;    </span><br><span class="line">           BufferedReader in = new BufferedReader(new InputStreamReader(inputStream, &quot;UTF-8&quot;));    </span><br><span class="line">           while ((line = in.readLine()) != null)&#123;    </span><br><span class="line">               sb.append(line);  </span><br><span class="line">           &#125;  </span><br><span class="line">           in.close();  </span><br><span class="line">           inputStream.close();  </span><br><span class="line">           </span><br><span class="line">           //解析xml成map    </span><br><span class="line">           //&#123;transaction_id=4200000141201805266700247361, nonce_str=cbb67accd8044c9ea48f3318b99d88e4, bank_type=CFT, openid=oiNKG03vVY4PHlGUEwT-ztFo8K8Y, sign=0575804DBE4E9FFF6545046FA062BC4C, fee_type=CNY, mch_id=1503809911, cash_fee=1, out_trade_no=78902e694bab485b8e7745b61e05dbfe, appid=wx5beac15ca207c40c, total_fee=1, trade_type=NATIVE, result_code=SUCCESS, time_end=20180526162759, is_subscribe=Y, return_code=SUCCESS&#125;</span><br><span class="line">           Map&lt;String, String&gt; callbackMap = WXPayUtil.xmlToMap(sb.toString());    </span><br><span class="line">             </span><br><span class="line">           //获取有序map    </span><br><span class="line">           SortedMap&lt;String, String&gt; sortedMap = CommonUtil.getSortedMap(callbackMap) ;  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">           回调数据：</span><br><span class="line">            &lt;xml&gt;&lt;appid&gt;&lt;![CDATA[wx5beac15ca207c40c]]&gt;&lt;/appid&gt;&lt;bank_type&gt;&lt;![CDATA[CFT]]&gt;&lt;/bank_type&gt;&lt;cash_fee&gt;&lt;![CDATA[10]]&gt;&lt;/cash_fee&gt;&lt;fee_type&gt;&lt;![CDATA[CNY]]&gt;&lt;/fee_type&gt;&lt;is_subscribe&gt;&lt;![CDATA[Y]]&gt;&lt;/is_subscribe&gt;&lt;mch_id&gt;&lt;![CDATA[1503809911]]&gt;&lt;/mch_id&gt;&lt;nonce_str&gt;&lt;![CDATA[de019d5f1e5d40649cd76de33f18b13e]]&gt;&lt;/nonce_str&gt;&lt;openid&gt;&lt;![CDATA[oiNKG03vVY4PHlGUEwT-ztFo8K8Y]]&gt;&lt;/openid&gt;&lt;out_trade_no&gt;&lt;![CDATA[4d8cea4a916440368583edaf82488624]]&gt;&lt;/out_trade_no&gt;&lt;result_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/result_code&gt;&lt;return_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/return_code&gt;&lt;sign&gt;&lt;![CDATA[FA799B7DF70C2BAC558E839E01EF341A]]&gt;&lt;/sign&gt;&lt;time_end&gt;&lt;![CDATA[20180626230347]]&gt;&lt;/time_end&gt;&lt;total_fee&gt;10&lt;/total_fee&gt;&lt;trade_type&gt;&lt;![CDATA[NATIVE]]&gt;&lt;/trade_type&gt;&lt;transaction_id&gt;&lt;![CDATA[4200000142201806264038572903]]&gt;&lt;/transaction_id&gt;&lt;/xml&gt;</span><br><span class="line"></span><br><span class="line">            转成map:</span><br><span class="line">                &#123;transaction_id=4200000142201806264038572903, nonce_str=de019d5f1e5d40649cd76de33f18b13e, bank_type=CFT, openid=oiNKG03vVY4PHlGUEwT-ztFo8K8Y, sign=FA799B7DF70C2BAC558E839E01EF341A, fee_type=CNY, mch_id=1503809911, cash_fee=10, out_trade_no=4d8cea4a916440368583edaf82488624, appid=wx5beac15ca207c40c, total_fee=10, trade_type=NATIVE, result_code=SUCCESS, time_end=20180626230347, is_subscribe=Y, return_code=SUCCESS&#125;</span><br><span class="line">       </span><br><span class="line">          </span><br><span class="line">        2、注意点：</span><br><span class="line">            </span><br><span class="line">            回调要用post方式，微信文档没有写回调的通知方式</span><br><span class="line">            可以用这个注解 @RequestMapping</span><br><span class="line"></span><br><span class="line">            问题：一定要看日志</span><br></pre></td></tr></table></figure>

<h4 id="第14集、微信回调处理之更新订单状态和幂等性讲解"><a href="#第14集、微信回调处理之更新订单状态和幂等性讲解" class="headerlink" title="第14集、微信回调处理之更新订单状态和幂等性讲解"></a>第14集、微信回调处理之更新订单状态和幂等性讲解</h4><p><strong>简介：微信支付回调处理之更新订单状态和讲解什么是接口的幂等性</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">微信回调通知规则（通知频率为15/15/30/180/1800/1800/1800/1800/3600，单位：秒）</span><br><span class="line"></span><br><span class="line">         幂等性: 同样的参数和值，不管调用你的接口多少次，响应结果都和调用一次是一样的</span><br><span class="line">         </span><br><span class="line">        1、校验签名是否正确，防止伪造回调</span><br><span class="line">        </span><br><span class="line">        2、查询订单是否已经更新</span><br><span class="line"></span><br><span class="line">        3、若没更新则更新订单状态</span><br><span class="line"></span><br><span class="line">        4、回应微信，SUCCESS 或者 FAIL </span><br><span class="line">            response.setContentType(&quot;text/xml&quot;);            </span><br><span class="line">            response.getWriter().println(&quot;success&quot;);</span><br></pre></td></tr></table></figure>



<h4 id="第15集-微信支付之下单事务处理"><a href="#第15集-微信支付之下单事务处理" class="headerlink" title="第15集 微信支付之下单事务处理"></a>第15集 微信支付之下单事务处理</h4><p><strong>简介：讲解下单接口增加事务和常见的事务选择</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1、springboot开启事务，启动类里面增加 @EnableTransactionManagement</span><br><span class="line">2、需要事务的方法上加 @Transactional(propagation = Propagation.REQUIRED)</span><br><span class="line">3、aop的管理事务的好处和选择</span><br><span class="line">    增，删，改  开启事务</span><br></pre></td></tr></table></figure>





<h3 id="第七章，全局异常处理和日志打点统计"><a href="#第七章，全局异常处理和日志打点统计" class="headerlink" title="第七章，全局异常处理和日志打点统计"></a>第七章，全局异常处理和日志打点统计</h3><h4 id="第1集、配置SpringBoot2-0全局自定义异常"><a href="#第1集、配置SpringBoot2-0全局自定义异常" class="headerlink" title="第1集、配置SpringBoot2.0全局自定义异常"></a>第1集、配置SpringBoot2.0全局自定义异常</h4><p><strong>简介：讲解springboot全局自定义异常的使用</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1、自定义异常类</span><br><span class="line">2、配置使用</span><br></pre></td></tr></table></figure>



<h4 id="第2集、使用Logback整合SpringBoot打点日志"><a href="#第2集、使用Logback整合SpringBoot打点日志" class="headerlink" title="第2集、使用Logback整合SpringBoot打点日志"></a>第2集、使用Logback整合SpringBoot打点日志</h4><p><strong>简介：使用日志框架整合SpringBoot，并进行打点统计</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> 1、日志不仅用于排查问题，查看应用运行情况</span><br><span class="line"></span><br><span class="line"> 2、更可以用于统计,虽然统计可以通过数据库进行统计，但是存在风险，如果用日志，并且建立一个日志系统用于分析</span><br><span class="line">这样就方便产品和运营人员进行查看分析数据</span><br><span class="line"></span><br><span class="line"> 3、写日志，可以加缓冲buffer，也可也进行异步</span><br><span class="line"> 参考资料：https://blog.csdn.net/zhuyucheng123/article/details/21524549</span><br></pre></td></tr></table></figure>











<h3 id="第八章-前后端联调和跨域处理"><a href="#第八章-前后端联调和跨域处理" class="headerlink" title="第八章 前后端联调和跨域处理"></a>第八章 前后端联调和跨域处理</h3><h4 id="第1集、联调效果演示和还原接口代码"><a href="#第1集、联调效果演示和还原接口代码" class="headerlink" title="第1集、联调效果演示和还原接口代码"></a>第1集、联调效果演示和还原接口代码</h4><p><strong>简介：演示完成联调的效果和还原后端部分接口</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1、演示效果</span><br><span class="line">2、拦截器开启拦截</span><br><span class="line">3、下单接口还原配置</span><br></pre></td></tr></table></figure>



<h4 id="第2集、动静分离之前端项目静态页面引入和相关js包使用"><a href="#第2集、动静分离之前端项目静态页面引入和相关js包使用" class="headerlink" title="第2集、动静分离之前端项目静态页面引入和相关js包使用"></a>第2集、动静分离之前端项目静态页面引入和相关js包使用</h4><p><strong>简介：引入前端框架bootstrap和jquery，使用cdn</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1、bootstap和jquery介绍和学习资料</span><br><span class="line">            bootstapt：https://v3.bootcss.com/getting-started/</span><br><span class="line">            jquery：http://www.w3school.com.cn/jquery/index.asp</span><br><span class="line"></span><br><span class="line">2、知识拓展：什么是内容分发网络，CDN的好处</span><br></pre></td></tr></table></figure>





<h4 id="第3集、前后端分离-跨域问题讲解"><a href="#第3集、前后端分离-跨域问题讲解" class="headerlink" title="第3集、前后端分离 跨域问题讲解"></a>第3集、前后端分离 跨域问题讲解</h4><p><strong>简介：讲解什么是跨域和对应的处理方法</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">1、跨域：浏览器同源策略</span><br><span class="line">            1995年，同源政策由 Netscape 公司引入浏览器。目前，所有浏览器都实行这个政策。</span><br><span class="line">            最初，它的含义是指，A网页设置的 Cookie，B网页不能打开，除非这两个网页&quot;同源&quot;。所谓&quot;同源&quot;指的是&quot;三个相同&quot;</span><br><span class="line">            </span><br><span class="line">            协议相同  http https</span><br><span class="line">            域名相同     www.xdcass.ent</span><br><span class="line">            端口相同  80  81</span><br><span class="line"></span><br><span class="line">            一句话：浏览器从一个域名的网页去请求另一个域名的资源时，域名、端口、协议任一不同，都是跨域</span><br><span class="line">            </span><br><span class="line">            浏览器控制台跨域提示：</span><br><span class="line">            No &apos;Access-Control-Allow-Origin&apos; header is present on the requested resource. Origin &apos;null&apos; is therefore not allowed access.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        2、解决方法 </span><br><span class="line">            1）JSONP</span><br><span class="line">            2）Http响应头配置允许跨域</span><br><span class="line">                </span><br><span class="line">                nginx层配置</span><br><span class="line">                    https://www.cnblogs.com/hawk-whu/p/6725699.html</span><br><span class="line">                </span><br><span class="line"></span><br><span class="line">                程序代码中处理</span><br><span class="line">                    SpringBoot自带配置</span><br><span class="line"></span><br><span class="line">                @Configuration</span><br><span class="line">                public class Cors extends WebMvcConfigurerAdapter &#123;</span><br><span class="line">                    @Override</span><br><span class="line">                    public void addCorsMappings(CorsRegistry registry) &#123;</span><br><span class="line">                        registry.addMapping(&quot;/**&quot;)</span><br><span class="line">                                .allowedOrigins(&quot;*&quot;)</span><br><span class="line">                                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;)</span><br><span class="line">                                .allowCredentials(true).maxAge(3600);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">        注意点:假如接口报错，则跨域配置不生效</span><br></pre></td></tr></table></figure>



<h4 id="第4集、首页视频列表页联调"><a href="#第4集、首页视频列表页联调" class="headerlink" title="第4集、首页视频列表页联调"></a>第4集、首页视频列表页联调</h4><p><strong>简介：讲解首页视频列表页前端后端联调</strong></p>
<h4 id="第5集、微信扫一扫登录联调"><a href="#第5集、微信扫一扫登录联调" class="headerlink" title="第5集、微信扫一扫登录联调"></a>第5集、微信扫一扫登录联调</h4><p><strong>简介：讲解微信扫一扫登录前后端联调</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1、回调需要配置ngrock和前端页面访问端口（通过工具 webstorm）</span><br><span class="line"></span><br><span class="line">2、微信回调，在url上携带参数</span><br><span class="line"></span><br><span class="line">    http://localhost:63343/static/index.html?token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ4ZGNsYXNzIiwiaWQiOjQsIm5hbWUiOiLlsI_kuowiLCJpbWciOiJodHRwOi8vdGhpcmR3eC5xbG9nby5jbi9tbW9wZW4vdmlfMzIvUTBqNFR3R1RmVExnS2dqazR0R2hQVmZKaWFWN1FqalNtVFl6dDVPd1hyMG55MnNqSkhmTjREWEV0WE04a25ZZ1JGSlQxQ2txRWpSbEtmUWh4cDdPd2FBLzEzMiIsImlhdCI6MTUzMDQyNzE3NCwiZXhwIjoxNTMxMDMxOTc0fQ.o5xpfafwPLIzUuOmo-nnFZQnvk6aEBp5KozPfq6TmiA&amp;head_img=http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLgKgjk4tGhPVfJiaV7QjjSmTYzt5OwXr0ny2sjJHfN4DXEtXM8knYgRFJT1CkqEjRlKfQhxp7OwaA/132&amp;name=%E5%B0%8F%E4%BA%8C</span><br><span class="line"></span><br><span class="line">3、CDN工具地址 </span><br><span class="line"></span><br><span class="line">    http://www.bootcdn.cn/jquery-cookie/</span><br></pre></td></tr></table></figure>



<h4 id="第6集、网页扫码支付联调"><a href="#第6集、网页扫码支付联调" class="headerlink" title="第6集、网页扫码支付联调"></a>第6集、网页扫码支付联调</h4><p><strong>简介：讲解微信网页扫码支付联调</strong></p>
<h3 id="第九章，生产环境搭建部署"><a href="#第九章，生产环境搭建部署" class="headerlink" title="第九章，生产环境搭建部署"></a>第九章，生产环境搭建部署</h3><h4 id="第1集、云服务器介绍和阿里云服务器ECS服务器选购"><a href="#第1集、云服务器介绍和阿里云服务器ECS服务器选购" class="headerlink" title="第1集、云服务器介绍和阿里云服务器ECS服务器选购"></a>第1集、云服务器介绍和阿里云服务器ECS服务器选购</h4><p><strong>简介：什么是云服务器及目前主要的几个厂商介绍</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1、阿里云、腾讯云、亚马逊云</span><br><span class="line">    阿里云：https://www.aliyun.com/</span><br><span class="line">    腾讯云：https://cloud.tencent.com/</span><br><span class="line">    亚马逊云：https://aws.amazon.com/</span><br></pre></td></tr></table></figure>





<h4 id="第2集、阿里云服务器远程登录和常用工具"><a href="#第2集、阿里云服务器远程登录和常用工具" class="headerlink" title="第2集、阿里云服务器远程登录和常用工具"></a>第2集、阿里云服务器远程登录和常用工具</h4><p><strong>简介：讲解阿里云服务器登录使用和常见终端工具</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1、windows工具   putty，xshell, security</span><br><span class="line">    参考资料：</span><br><span class="line">        https://jingyan.baidu.com/article/e75057f210c6dcebc91a89dd.html</span><br><span class="line">        https://www.jb51.net/softjc/88235.html</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2、苹果系统MAC： 通过终端登录 </span><br><span class="line">    ssh root@ip  回车后输入密码</span><br><span class="line"></span><br><span class="line">    ssh root@120.25.1.38</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3、可以尝试自己通过百度进行找文档， 安装mysql jdk  nginx maven git redis elk</span><br></pre></td></tr></table></figure>



<h4 id="第3集-阿里云Linux服务器Centos7-安装JDK8环境"><a href="#第3集-阿里云Linux服务器Centos7-安装JDK8环境" class="headerlink" title="第3集 阿里云Linux服务器Centos7 安装JDK8环境"></a>第3集 阿里云Linux服务器Centos7 安装JDK8环境</h4><p><strong>简介：Linux云服务器安装JDK1.8</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">1、官方地址：http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</span><br><span class="line"></span><br><span class="line">2、使用wget 下载或者本地上传</span><br><span class="line">    wget --no-check-certificate --no-cookies --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; 复制下载地址</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">    wget --no-check-certificate --no-cookies --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u171-b11/512cd62ec5174c3487ac17c61aaa89e8/jdk-8u171-linux-x64.tar.gz</span><br><span class="line"></span><br><span class="line">3、配置全局环境变量</span><br><span class="line">    解压：tar -zxvf jdk-8u171-linux-x64.tar.gz</span><br><span class="line"></span><br><span class="line">    vim  /etc/profile</span><br><span class="line"></span><br><span class="line">    配置</span><br><span class="line">    #set java environment</span><br><span class="line">    JAVA_HOME=/usr/local/soft/jdk1.8.0_171</span><br><span class="line">    CLASSPATH=$JAVA_HOME/lib/</span><br><span class="line">    PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line">    export PATH JAVA_HOME CLASSPATH</span><br><span class="line">4、环境变量立刻生效</span><br><span class="line">    source /etc/profile</span><br><span class="line"></span><br><span class="line">5、查看安装情况</span><br><span class="line">    java -version</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">6、linux图形操作工具</span><br><span class="line">    mac: filezilla</span><br><span class="line">    windows: winscp</span><br><span class="line">        资料：https://jingyan.baidu.com/article/ed2a5d1f346fd409f6be179a.html</span><br></pre></td></tr></table></figure>



<h4 id="第4集、互联网架构知识之网站部署上线基础准备"><a href="#第4集、互联网架构知识之网站部署上线基础准备" class="headerlink" title="第4集、互联网架构知识之网站部署上线基础准备"></a>第4集、互联网架构知识之网站部署上线基础准备</h4><p><strong>简介：讲解应用部署到可以公网访问需要步骤</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1、一个http请求的故事</span><br><span class="line"></span><br><span class="line">2、什么是cname和a记录</span><br><span class="line">       A记录和CNAME只可以同时生效一个，A记录优先</span><br><span class="line"></span><br><span class="line">3、域名和ip的关系，DNS作用</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">参考资料：</span><br><span class="line">   https://blog.csdn.net/benbenzhuhwp/article/details/44704319</span><br><span class="line"></span><br><span class="line">   https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=0&amp;rsv_idx=1&amp;ch=1&amp;tn=98050039_dg&amp;wd=%E4%B8%80%E4%B8%AAhttp%E8%AF%B7%E6%B1%82%E7%9A%84%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B&amp;rsv_pq=80a65c5f00005961&amp;rsv_t=a5fcWreuJzILdSwr4gI8pFqlO7HSu5BlhjwalyVzPiV9w2L%2BKEj78pPi1Qn6Vx4wXxI&amp;rqlang=cn&amp;rsv_enter=1&amp;rsv_sug3=8&amp;rsv_sug1=8&amp;rsv_sug7=100&amp;sug=%25E4%25B8%2580%25E4%25B8%25AAhttp%25E8%25AF%25B7%25E6%25B1%2582%25E7%259A%2584%25E8%25AF%25A6%25E7%25BB%2586%25E8%25BF%2587%25E7%25A8%258B&amp;rsv_n=1</span><br></pre></td></tr></table></figure>



<h4 id="第5集、域名购买和配置解析实战"><a href="#第5集、域名购买和配置解析实战" class="headerlink" title="第5集、域名购买和配置解析实战"></a>第5集、域名购买和配置解析实战</h4><p><strong>简介：域名购买和配置解析实战</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1、购买域名，备案</span><br><span class="line">           阿里云 备案地址：https://beian.aliyun.com/</span><br><span class="line">2、购买服务器，阿里云，腾讯云，亚马逊云aws</span><br><span class="line"></span><br><span class="line">3、配置域名解析到服务器</span><br></pre></td></tr></table></figure>



<h4 id="第6集、生产环境Linux服务器上Nginx介绍和安装"><a href="#第6集、生产环境Linux服务器上Nginx介绍和安装" class="headerlink" title="第6集、生产环境Linux服务器上Nginx介绍和安装"></a>第6集、生产环境Linux服务器上Nginx介绍和安装</h4><p><strong>简介：介绍什么是nginx服务器和快速安装</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">1、安装依赖</span><br><span class="line">    yum -y install gcc zlib zlib-devel pcre-devel openssl openssl-devel</span><br><span class="line"></span><br><span class="line">2、//创建一个文件夹</span><br><span class="line">    cd /usr/local</span><br><span class="line">    mkdir nginx</span><br><span class="line">    cd nginx</span><br><span class="line">    //下载tar包</span><br><span class="line">    wget http://nginx.org/download/nginx-1.13.7.tar.gz</span><br><span class="line">    tar -xvf nginx-1.13.7.tar.g</span><br><span class="line"></span><br><span class="line">    //执行命令</span><br><span class="line">    ./configure</span><br><span class="line">    make</span><br><span class="line">    make install </span><br><span class="line"></span><br><span class="line">3、拓展知识：</span><br><span class="line">    https://blog.csdn.net/u012809062/article/details/70307130</span><br><span class="line">    https://blog.csdn.net/csdn_lqr/article/details/53334583</span><br></pre></td></tr></table></figure>



<h3 id="第十章：线上环境应用集群部署"><a href="#第十章：线上环境应用集群部署" class="headerlink" title="第十章：线上环境应用集群部署"></a>第十章：线上环境应用集群部署</h3><h4 id="第1集、视频应用阿里云服务器部署安装"><a href="#第1集、视频应用阿里云服务器部署安装" class="headerlink" title="第1集、视频应用阿里云服务器部署安装"></a>第1集、视频应用阿里云服务器部署安装</h4><p><strong>简介:讲解视频站点应用部署到阿里云服务器</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1、打包上传</span><br><span class="line">          打包命令，各个系统通用，只要按照maven</span><br><span class="line"></span><br><span class="line">    mvn install -Dmaven.test.skip=true</span><br><span class="line"></span><br><span class="line">  2、启动应用指定外部文件</span><br><span class="line"></span><br><span class="line">   nohup java -jar xxxx.jar  --Dspring.config.location=application.properties &amp;</span><br><span class="line"></span><br><span class="line">   修改配置文件：</span><br><span class="line">        端口</span><br><span class="line">        开放平台微信登录回调域名</span><br><span class="line">        微信支付回调域名</span><br><span class="line">        数据库连接，账户密码</span><br></pre></td></tr></table></figure>



<h4 id="第2集、前后端启动接入Nginx代理服务器"><a href="#第2集、前后端启动接入Nginx代理服务器" class="headerlink" title="第2集、前后端启动接入Nginx代理服务器"></a>第2集、前后端启动接入Nginx代理服务器</h4><p><strong>简介：讲解前后端应用部署和配置nginx访问</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.后端接口地址 16web.net:8080</span><br><span class="line"></span><br><span class="line">  导入数据</span><br><span class="line"></span><br><span class="line">   数据库配置</span><br><span class="line">   119.23.28.97</span><br><span class="line">   root</span><br><span class="line">    Apple1688.        </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    阿里云机器：</span><br><span class="line">    ssh root@47.106.120.173</span><br><span class="line"></span><br><span class="line">注意点：</span><br><span class="line">    微信登录授权域名</span><br><span class="line">    支付回调域名确认好</span><br><span class="line">    application.properties确认</span><br></pre></td></tr></table></figure>





<h4 id="第3集、高可用处理之多节点集群部署"><a href="#第3集、高可用处理之多节点集群部署" class="headerlink" title="第3集、高可用处理之多节点集群部署"></a>第3集、高可用处理之多节点集群部署</h4><p><strong>简介：讲解springboot应用多节点部署和配置nginx访问</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">1、多节点启动</span><br><span class="line">            节点1：120.79.160.143:8082/</span><br><span class="line">            节点2：47.106.120.173:8080</span><br><span class="line"></span><br><span class="line">2、配置nginx集群访问</span><br><span class="line"></span><br><span class="line">     upstream lbs &#123;</span><br><span class="line"></span><br><span class="line">        server 120.79.160.143:8082;   </span><br><span class="line">        server 127.0.0.1:8080;      </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    location /api/ &#123;</span><br><span class="line">            proxy_pass http://lbs;</span><br><span class="line">            proxy_redirect default;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    location /user/ &#123;</span><br><span class="line">            proxy_pass http://lbs;</span><br><span class="line">            proxy_redirect default;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 3、重启nginx命令</span><br><span class="line">    ./nginx -s reload</span><br></pre></td></tr></table></figure>











<h3 id="第十一章-课程总结和第二季课程介绍"><a href="#第十一章-课程总结和第二季课程介绍" class="headerlink" title="第十一章 课程总结和第二季课程介绍"></a>第十一章 课程总结和第二季课程介绍</h3><h4 id="第1集、课程总结和常见问题处理"><a href="#第1集、课程总结和常见问题处理" class="headerlink" title="第1集、课程总结和常见问题处理"></a>第1集、课程总结和常见问题处理</h4>
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        
          
        
        <div class="post-tags">
          
            <a href="/tags/springboot/" rel="tag"># springboot</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/06/28/shiro权限实战/" rel="next" title="shiro权限实战">
                <i class="fa fa-chevron-left"></i> shiro权限实战
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Sakura</p>
              <div class="site-description motion-element" itemprop="description">普通技术死肥宅</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">3</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">3</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">3</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#第一章项目介绍和前期准备"><span class="nav-number">1.</span> <span class="nav-text">第一章项目介绍和前期准备</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#第1集-SpringBoot微信支付开发在线教育视频介绍"><span class="nav-number">1.1.</span> <span class="nav-text">第1集 SpringBoot微信支付开发在线教育视频介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第2集-中大型公司里面项目开发流程讲解"><span class="nav-number">1.2.</span> <span class="nav-text">第2集 中大型公司里面项目开发流程讲解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第3集-在线教育站点需求分析和架构设计"><span class="nav-number">1.3.</span> <span class="nav-text">第3集 在线教育站点需求分析和架构设计</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第4集-在线教育后台数据库设计"><span class="nav-number">1.4.</span> <span class="nav-text">第4集 在线教育后台数据库设计</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第二章-项目基础环境搭建和逆向工程构建"><span class="nav-number">2.</span> <span class="nav-text">第二章 项目基础环境搭建和逆向工程构建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#第1集-快速搭建SpringBoot项目，采用Eclipse"><span class="nav-number">2.1.</span> <span class="nav-text">第1集 快速搭建SpringBoot项目，采用Eclipse</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第2集-快速搭建SpringBoot项目，采用IDEA"><span class="nav-number">2.2.</span> <span class="nav-text">第2集 快速搭建SpringBoot项目，采用IDEA</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第3集-热部署在Eclipse和IDE里面的使用"><span class="nav-number">2.3.</span> <span class="nav-text">第3集 热部署在Eclipse和IDE里面的使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第4集-后端项目分层分包及资源文件处理"><span class="nav-number">2.4.</span> <span class="nav-text">第4集 后端项目分层分包及资源文件处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第5集-开源工具的优缺点选择和抽象方法的建议"><span class="nav-number">2.5.</span> <span class="nav-text">第5集 开源工具的优缺点选择和抽象方法的建议</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第6集-Mysql逆向工程效率神器之使用IDE自动生成Java实体类"><span class="nav-number">2.6.</span> <span class="nav-text">第6集 Mysql逆向工程效率神器之使用IDE自动生成Java实体类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第7集-接口配置文件自动映射到属性和实体类配置"><span class="nav-number">2.7.</span> <span class="nav-text">第7集 接口配置文件自动映射到属性和实体类配置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第三章-开发在线教育视频站点核心业务之视频列表相关接口开发"><span class="nav-number">3.</span> <span class="nav-text">第三章 开发在线教育视频站点核心业务之视频列表相关接口开发</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#第1集-整合Mybatis访问数据库和阿里巴巴数据源"><span class="nav-number">3.1.</span> <span class="nav-text">第1集 整合Mybatis访问数据库和阿里巴巴数据源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第2集-使用Mybatis注解开发视频列表增删改查"><span class="nav-number">3.2.</span> <span class="nav-text">第2集 使用Mybatis注解开发视频列表增删改查</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第3集-Vidoe相关接口完善和规范协议"><span class="nav-number">3.3.</span> <span class="nav-text">第3集 Vidoe相关接口完善和规范协议</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第4集-动态Sql语句Mybaties-SqlProvider"><span class="nav-number">3.4.</span> <span class="nav-text">第4集 动态Sql语句Mybaties SqlProvider</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第5集-PageHelper分页插件使用"><span class="nav-number">3.5.</span> <span class="nav-text">第5集 PageHelper分页插件使用</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第四章-开发在线教育视频站点核心业务之JWT微服务下的用户登录权限校验"><span class="nav-number">4.</span> <span class="nav-text">第四章 开发在线教育视频站点核心业务之JWT微服务下的用户登录权限校验</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#第1集-单机和分布式应用的登录检验讲解"><span class="nav-number">4.1.</span> <span class="nav-text">第1集 单机和分布式应用的登录检验讲解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第2集-微服务下登录检验解决方案-JWT讲解"><span class="nav-number">4.2.</span> <span class="nav-text">第2集 微服务下登录检验解决方案 JWT讲解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第3集-登录检验JWT实战之封装通用方法"><span class="nav-number">4.3.</span> <span class="nav-text">第3集 登录检验JWT实战之封装通用方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第五章-开发在线教育视频站点核心业务之微信授权用户接口开发"><span class="nav-number">5.</span> <span class="nav-text">第五章 开发在线教育视频站点核心业务之微信授权用户接口开发</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#第1集-数据信息安全–微信授权一键登录功能介绍"><span class="nav-number">5.1.</span> <span class="nav-text">第1集 数据信息安全–微信授权一键登录功能介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第2集-微信扫一扫功能开发前期准备"><span class="nav-number">5.2.</span> <span class="nav-text">第2集 微信扫一扫功能开发前期准备</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第3集-微信Oauth2-0交互流程讲解"><span class="nav-number">5.3.</span> <span class="nav-text">第3集 微信Oauth2.0交互流程讲解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第4集-微信授权一键登录开发之授权URL获取"><span class="nav-number">5.4.</span> <span class="nav-text">第4集 微信授权一键登录开发之授权URL获取</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第5集-HttpClient4-x工具获取使用"><span class="nav-number">5.5.</span> <span class="nav-text">第5集 HttpClient4.x工具获取使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第6集-微信扫码登录回调本地域名映射工具Ngrock"><span class="nav-number">5.6.</span> <span class="nav-text">第6集 微信扫码登录回调本地域名映射工具Ngrock</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第7集-授权登录获取微信用户个人信息实战"><span class="nav-number">5.7.</span> <span class="nav-text">第7集 授权登录获取微信用户个人信息实战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第8集-用户模块开发之保存微信用户信息"><span class="nav-number">5.8.</span> <span class="nav-text">第8集 用户模块开发之保存微信用户信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第9集-使用JWT生成用户Token回写客户端"><span class="nav-number">5.9.</span> <span class="nav-text">第9集 使用JWT生成用户Token回写客户端</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第10集-Springboot2-x用户登录拦截器开发实战"><span class="nav-number">5.10.</span> <span class="nav-text">第10集 Springboot2.x用户登录拦截器开发实战</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第六章-开发在线教育视频站点核心业务之从零基础接入微信扫一扫网页支付"><span class="nav-number">6.</span> <span class="nav-text">第六章 开发在线教育视频站点核心业务之从零基础接入微信扫一扫网页支付</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#第1集-常用的第三方支付和聚合支付介绍"><span class="nav-number">6.1.</span> <span class="nav-text">第1集 常用的第三方支付和聚合支付介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第2集-申请微信支付介绍和不同场景的支付方式"><span class="nav-number">6.2.</span> <span class="nav-text">第2集 申请微信支付介绍和不同场景的支付方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第3集-微信网站扫码支付介绍"><span class="nav-number">6.3.</span> <span class="nav-text">第3集 微信网站扫码支付介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第4集-互联网架构知识时序图讲解"><span class="nav-number">6.4.</span> <span class="nav-text">第4集 互联网架构知识时序图讲解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第5集-微信网页扫码支付时序图讲解和统一下单接口"><span class="nav-number">6.5.</span> <span class="nav-text">第5集 微信网页扫码支付时序图讲解和统一下单接口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第6集-微信支付订单接口开发之订单增删改查"><span class="nav-number">6.6.</span> <span class="nav-text">第6集 微信支付订单接口开发之订单增删改查</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第7集-IDE生成订单接口单元测试和断言开发"><span class="nav-number">6.7.</span> <span class="nav-text">第7集 IDE生成订单接口单元测试和断言开发</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第8集-微信统一下单接口开发之CommonUtils和WXpayUtils开发"><span class="nav-number">6.8.</span> <span class="nav-text">第8集 微信统一下单接口开发之CommonUtils和WXpayUtils开发</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第9集、微信支付Controller下单API接口开发"><span class="nav-number">6.9.</span> <span class="nav-text">第9集、微信支付Controller下单API接口开发</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第10集、微信支付下单API接口和签名开发"><span class="nav-number">6.10.</span> <span class="nav-text">第10集、微信支付下单API接口和签名开发</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第11集-调用微信统一下单接口实战"><span class="nav-number">6.11.</span> <span class="nav-text">第11集 调用微信统一下单接口实战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第12集、谷歌二维码工具生成扫一扫支付二维码"><span class="nav-number">6.12.</span> <span class="nav-text">第12集、谷歌二维码工具生成扫一扫支付二维码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第13集、微信支付扫码回调开发实战"><span class="nav-number">6.13.</span> <span class="nav-text">第13集、微信支付扫码回调开发实战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第14集、微信回调处理之更新订单状态和幂等性讲解"><span class="nav-number">6.14.</span> <span class="nav-text">第14集、微信回调处理之更新订单状态和幂等性讲解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第15集-微信支付之下单事务处理"><span class="nav-number">6.15.</span> <span class="nav-text">第15集 微信支付之下单事务处理</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第七章，全局异常处理和日志打点统计"><span class="nav-number">7.</span> <span class="nav-text">第七章，全局异常处理和日志打点统计</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#第1集、配置SpringBoot2-0全局自定义异常"><span class="nav-number">7.1.</span> <span class="nav-text">第1集、配置SpringBoot2.0全局自定义异常</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第2集、使用Logback整合SpringBoot打点日志"><span class="nav-number">7.2.</span> <span class="nav-text">第2集、使用Logback整合SpringBoot打点日志</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第八章-前后端联调和跨域处理"><span class="nav-number">8.</span> <span class="nav-text">第八章 前后端联调和跨域处理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#第1集、联调效果演示和还原接口代码"><span class="nav-number">8.1.</span> <span class="nav-text">第1集、联调效果演示和还原接口代码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第2集、动静分离之前端项目静态页面引入和相关js包使用"><span class="nav-number">8.2.</span> <span class="nav-text">第2集、动静分离之前端项目静态页面引入和相关js包使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第3集、前后端分离-跨域问题讲解"><span class="nav-number">8.3.</span> <span class="nav-text">第3集、前后端分离 跨域问题讲解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第4集、首页视频列表页联调"><span class="nav-number">8.4.</span> <span class="nav-text">第4集、首页视频列表页联调</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第5集、微信扫一扫登录联调"><span class="nav-number">8.5.</span> <span class="nav-text">第5集、微信扫一扫登录联调</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第6集、网页扫码支付联调"><span class="nav-number">8.6.</span> <span class="nav-text">第6集、网页扫码支付联调</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第九章，生产环境搭建部署"><span class="nav-number">9.</span> <span class="nav-text">第九章，生产环境搭建部署</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#第1集、云服务器介绍和阿里云服务器ECS服务器选购"><span class="nav-number">9.1.</span> <span class="nav-text">第1集、云服务器介绍和阿里云服务器ECS服务器选购</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第2集、阿里云服务器远程登录和常用工具"><span class="nav-number">9.2.</span> <span class="nav-text">第2集、阿里云服务器远程登录和常用工具</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第3集-阿里云Linux服务器Centos7-安装JDK8环境"><span class="nav-number">9.3.</span> <span class="nav-text">第3集 阿里云Linux服务器Centos7 安装JDK8环境</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第4集、互联网架构知识之网站部署上线基础准备"><span class="nav-number">9.4.</span> <span class="nav-text">第4集、互联网架构知识之网站部署上线基础准备</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第5集、域名购买和配置解析实战"><span class="nav-number">9.5.</span> <span class="nav-text">第5集、域名购买和配置解析实战</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第6集、生产环境Linux服务器上Nginx介绍和安装"><span class="nav-number">9.6.</span> <span class="nav-text">第6集、生产环境Linux服务器上Nginx介绍和安装</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第十章：线上环境应用集群部署"><span class="nav-number">10.</span> <span class="nav-text">第十章：线上环境应用集群部署</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#第1集、视频应用阿里云服务器部署安装"><span class="nav-number">10.1.</span> <span class="nav-text">第1集、视频应用阿里云服务器部署安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第2集、前后端启动接入Nginx代理服务器"><span class="nav-number">10.2.</span> <span class="nav-text">第2集、前后端启动接入Nginx代理服务器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第3集、高可用处理之多节点集群部署"><span class="nav-number">10.3.</span> <span class="nav-text">第3集、高可用处理之多节点集群部署</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第十一章-课程总结和第二季课程介绍"><span class="nav-number">11.</span> <span class="nav-text">第十一章 课程总结和第二季课程介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#第1集、课程总结和常见问题处理"><span class="nav-number">11.1.</span> <span class="nav-text">第1集、课程总结和常见问题处理</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sakura</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.1.2</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.2"></script>

  <script src="/js/motion.js?v=7.1.2"></script>



  
  


  <script src="/js/affix.js?v=7.1.2"></script>

  <script src="/js/schemes/pisces.js?v=7.1.2"></script>



  
  <script src="/js/scrollspy.js?v=7.1.2"></script>
<script src="/js/post-details.js?v=7.1.2"></script>



  


  <script src="/js/next-boot.js?v=7.1.2"></script>


  

  

  

  


  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
